<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GenAI-DST for ELE</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif, 'Noto Sans SC', sans-serif;
            background-color: #f8fafc;
            background-image: radial-gradient(#e2e8f0 0.8px, transparent 0.8px);
            background-size: 20px 20px;
        }
        .gradient-text {
            background: linear-gradient(to right, #10b981, #06b6d4, #6366f1);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        .feature-card {
            background: white;
            border-radius: 1rem;
            padding: 2rem;
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.05), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            border: 1px solid #e5e7eb;
            display: flex;
            flex-direction: column;
            justify-content: space-between;
        }
        .feature-card:hover {
            transform: translateY(-8px);
            box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
        }
        /* New glow effects for cards */
        .feature-card.emerald-glow:hover { box-shadow: 0 20px 25px -5px rgba(16, 185, 129, 0.1), 0 10px 10px -5px rgba(16, 185, 129, 0.08), 0 0 30px -10px #10b981; }
        .feature-card.cyan-glow:hover { box-shadow: 0 20px 25px -5px rgba(6, 182, 212, 0.1), 0 10px 10px -5px rgba(6, 182, 212, 0.08), 0 0 30px -10px #06b6d4; }
        .feature-card.indigo-glow:hover { box-shadow: 0 20px 25px -5px rgba(99, 102, 241, 0.1), 0 10px 10px -5px rgba(99, 102, 241, 0.08), 0 0 30px -10px #6366f1; }
        .feature-card.blue-glow:hover { box-shadow: 0 20px 25px -5px rgba(59, 130, 246, 0.1), 0 10px 10px -5px rgba(59, 130, 246, 0.08), 0 0 30px -10px #3b82f6; }

        .multimodal-btn {
            background-color: #f1f5f9;
            border: 1px solid #e2e8f0;
            color: #475569;
            transition: all 0.2s ease-in-out;
        }
        .multimodal-btn.active, .multimodal-btn:hover {
            background-color: #e0f2f1;
            color: #0d9488;
            border-color: #5eead4;
        }
        .clean-bg {
            background-image: none;
            background-color: white;
        }
         .slate-bg {
            background-image: radial-gradient(#e2e8f0 0.8px, transparent 0.8px);
            background-color: #f8fafc;
        }

        /* DST2025 Specific Styles */
        .flowchart-container {
            background: linear-gradient(135deg, #f0f9ff 0%, #e0f2fe 100%);
            border-radius: 1rem;
            padding: 2rem;
            margin: 2rem 0;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
        }

        .flowchart-title {
            text-align: center;
            font-size: 1.75rem;
            font-weight: bold;
            color: #0f172a;
            margin-bottom: 2rem;
        }

        .accordion-item {
            border: 1px solid #e2e8f0;
            transition: all 0.3s ease;
        }

        .accordion-item:hover {
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
        }

        .accordion-header {
            cursor: pointer;
            user-select: none;
        }

        .accordion-content {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.3s ease;
        }

        .accordion-item.active .accordion-content {
            max-height: 600px;
            overflow-y: auto;
            overflow-x: hidden;
        }

        /* 为手风琴内容添加自定义滚动条样式 */
        .accordion-content::-webkit-scrollbar {
            width: 8px;
        }

        .accordion-content::-webkit-scrollbar-track {
            background: #f1f5f9;
            border-radius: 4px;
        }

        .accordion-content::-webkit-scrollbar-thumb {
            background: #cbd5e1;
            border-radius: 4px;
        }

        .accordion-content::-webkit-scrollbar-thumb:hover {
            background: #94a3b8;
        }

        /* 练习区域滚动样式 */
        #prompt-parts {
            max-height: 400px;
            overflow-y: auto;
            overflow-x: hidden;
        }

        .exercise-container {
            max-height: 500px;
            overflow-y: auto;
            overflow-x: hidden;
        }

        .story-container {
            max-height: 400px;
            overflow-y: auto;
            overflow-x: hidden;
        }

        /* 为练习区域添加自定义滚动条样式 */
        #prompt-parts::-webkit-scrollbar,
        .exercise-container::-webkit-scrollbar,
        .story-container::-webkit-scrollbar {
            width: 6px;
        }

        #prompt-parts::-webkit-scrollbar-track,
        .exercise-container::-webkit-scrollbar-track,
        .story-container::-webkit-scrollbar-track {
            background: #f8fafc;
            border-radius: 3px;
        }

        #prompt-parts::-webkit-scrollbar-thumb,
        .exercise-container::-webkit-scrollbar-thumb,
        .story-container::-webkit-scrollbar-thumb {
            background: #cbd5e1;
            border-radius: 3px;
        }

        #prompt-parts::-webkit-scrollbar-thumb:hover,
        .exercise-container::-webkit-scrollbar-thumb:hover,
        .story-container::-webkit-scrollbar-thumb:hover {
            background: #94a3b8;
        }

        .accordion-item.active .accordion-header span {
            transform: rotate(180deg);
        }

        .comparison-table {
            border-collapse: collapse;
            width: 100%;
            margin: 1rem 0;
            min-width: 600px;
        }

        .comparison-table th,
        .comparison-table td {
            border: 1px solid #e2e8f0;
            padding: 0.75rem;
            text-align: left;
            white-space: nowrap;
        }

        .comparison-table th {
            background-color: #f8fafc;
            font-weight: 600;
        }

        .comparison-table tr:nth-child(even) {
            background-color: #f9fafb;
        }

        /* 表格容器滚动样式 */
        .table-container {
            overflow-x: auto;
            overflow-y: hidden;
            margin: 1rem 0;
            border-radius: 8px;
            border: 1px solid #e2e8f0;
        }

        .table-container::-webkit-scrollbar {
            height: 8px;
        }

        .table-container::-webkit-scrollbar-track {
            background: #f1f5f9;
            border-radius: 4px;
        }

        .table-container::-webkit-scrollbar-thumb {
            background: #cbd5e1;
            border-radius: 4px;
        }

        .table-container::-webkit-scrollbar-thumb:hover {
            background: #94a3b8;
        }

        /* 代码块滚动样式 */
        pre, code {
            overflow-x: auto;
            white-space: pre;
        }

        pre::-webkit-scrollbar {
            height: 6px;
        }

        pre::-webkit-scrollbar-track {
            background: #f8fafc;
            border-radius: 3px;
        }

        pre::-webkit-scrollbar-thumb {
            background: #cbd5e1;
            border-radius: 3px;
        }

        pre::-webkit-scrollbar-thumb:hover {
            background: #94a3b8;
        }

        /* 响应式滚动优化 */
        @media (max-width: 768px) {
            .accordion-item.active .accordion-content {
                max-height: 400px;
            }
            
            #prompt-parts {
                max-height: 300px;
            }
            
            .exercise-container {
                max-height: 350px;
            }
            
            .story-container {
                max-height: 300px;
            }
        }

        /* 确保所有内容区域都可以滚动 */
        .content-section {
            max-height: 80vh;
            overflow-y: auto;
            overflow-x: hidden;
        }

        /* 为长文本内容添加滚动 */
        .long-content {
            max-height: 500px;
            overflow-y: auto;
            overflow-x: hidden;
            padding-right: 10px;
        }

        .long-content::-webkit-scrollbar {
            width: 6px;
        }

        .long-content::-webkit-scrollbar-track {
            background: #f8fafc;
            border-radius: 3px;
        }

        .long-content::-webkit-scrollbar-thumb {
            background: #cbd5e1;
            border-radius: 3px;
        }

        .long-content::-webkit-scrollbar-thumb:hover {
            background: #94a3b8;
        }

        /* 确保模态框内容可以滚动 */
        .modal-content {
            max-height: 85vh;
            overflow-y: auto;
        }

        .modal-content::-webkit-scrollbar {
            width: 8px;
        }

        .modal-content::-webkit-scrollbar-track {
            background: #f1f5f9;
            border-radius: 4px;
        }

        .modal-content::-webkit-scrollbar-thumb {
            background: #cbd5e1;
            border-radius: 4px;
        }

        .modal-content::-webkit-scrollbar-thumb:hover {
            background: #94a3b8;
        }

        .draggable {
            cursor: move;
            transition: transform 0.2s ease;
        }

        .draggable:hover {
            transform: scale(1.02);
        }

        .drop-zone {
            min-height: 100px;
            border: 2px dashed #d1d5db;
            border-radius: 0.5rem;
            padding: 1rem;
            transition: all 0.3s ease;
        }

        .drop-zone.drag-over {
            border-color: #3b82f6;
            background-color: #eff6ff;
        }

        .drop-zone.correct {
            border-color: #10b981;
            background-color: #ecfdf5;
        }

        .drop-zone.incorrect {
            border-color: #ef4444;
            background-color: #fef2f2;
        }

        .feedback-message {
            margin-top: 1rem;
            padding: 0.75rem;
            border-radius: 0.5rem;
            font-weight: 500;
            text-align: center;
            opacity: 0;
            transform: translateY(-10px);
            transition: all 0.3s ease;
        }

        .feedback-message.feedback-correct {
            background-color: #ecfdf5;
            color: #065f46;
            border: 1px solid #10b981;
            opacity: 1;
            transform: translateY(0);
        }

        .feedback-message.feedback-incorrect {
            background-color: #fef2f2;
            color: #991b1b;
            border: 1px solid #ef4444;
            opacity: 1;
            transform: translateY(0);
        }

        /* Multimodal Prompt Assistant Styles */
        .content-type-btn {
            background: #4f46e5;
            color: white;
            border: none;
            padding: 8px 16px;
            border-radius: 6px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 14px;
            display: flex;
            align-items: center;
            gap: 4px;
        }

        .content-type-btn:hover {
            background: #4338ca;
            transform: translateY(-1px);
        }

        .content-type-btn.active {
            background: #6366f1;
            box-shadow: 0 4px 12px rgba(99, 102, 241, 0.4);
        }

        .multimodal-btn {
            background: #374151;
            color: #d1d5db;
            border: none;
            padding: 8px 12px;
            border-radius: 6px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 12px;
        }

        .multimodal-btn:hover {
            background: #4b5563;
            color: white;
        }

        .multimodal-btn.active {
            background: #10b981;
            color: white;
        }

        #generate-prompt-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(79, 70, 229, 0.4);
        }

        #prompt-output {
            animation: fadeIn 0.5s ease-in-out;
        }

        #feedback-area {
            animation: slideIn 0.5s ease-in-out;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        @keyframes slideIn {
            from { opacity: 0; transform: translateX(-10px); }
            to { opacity: 1; transform: translateX(0); }
        }

        .copy-success {
            background: #059669 !important;
            transform: scale(0.95);
        }
    </style>
</head>
<body class="antialiased">

    <!-- Header -->
    <header class="bg-white/80 backdrop-blur-lg fixed top-0 left-0 right-0 z-50 shadow-sm">
        <div class="container mx-auto px-6 py-4">
            <div class="flex items-center justify-between">
                <div class="text-xl font-bold text-gray-800">
                    <span class="text-emerald-500">GenAI-DST</span> for ELE
                </div>
                <div class="flex items-center space-x-8 md:ml-12">
                    <nav class="hidden md:flex space-x-8 text-gray-600 font-medium">
                        <a href="#home" class="hover:text-emerald-500 transition-colors whitespace-nowrap" data-lang-key="nav_home">Home</a>
                        <a href="#hub" class="hover:text-emerald-500 transition-colors whitespace-nowrap" data-lang-key="nav_hub">Learning Hub</a>
                        <a href="#research" class="hover:text-emerald-500 transition-colors whitespace-nowrap" data-lang-key="nav_research">Join Research</a>
                        <a href="#community" class="hover:text-emerald-500 transition-colors whitespace-nowrap" data-lang-key="nav_community">Community</a>
                        <a href="#contact" class="hover:text-emerald-500 transition-colors whitespace-nowrap" data-lang-key="nav_contact">Contact</a>
                    </nav>

                </div>
                <button class="md:hidden">
                    <i class="fas fa-bars text-gray-800 text-xl"></i>
                </button>
            </div>
        </div>
    </header>

    <main class="pt-20">
        <!-- Hero Section -->
        <section id="home" class="py-20 md:py-32 slate-bg">
            <div class="container mx-auto px-6 grid md:grid-cols-2 gap-12 items-center">
                <div class="text-center md:text-left">
                    <h1 class="text-3xl md:text-5xl font-extrabold text-gray-900 leading-tight" data-lang-key="hero_title">
                        Empowering <span class="gradient-text">English Language Education</span><br>through <span class="gradient-text">Generative AI-powered Digital Storytelling</span>
                    </h1>
                    <p class="mt-6 text-base text-gray-600 max-w-xl mx-auto md:mx-0" data-lang-key="hero_subtitle">
                        A research-practice collaborative project aimed at empowering primary and secondary students in Hong Kong and overseas. We are committed to fostering students' <strong class="text-emerald-600">creative autonomy</strong>, <strong class="text-cyan-600">critical AI literacy</strong>, and <strong class="text-indigo-600">English narrative literacy</strong> through creative storytelling.
                    </p>
                    <div class="mt-10 flex flex-col sm:flex-row gap-4 justify-center md:justify-start">
                        <a href="#project-framework" class="bg-indigo-500 text-white font-bold px-8 py-3 rounded-lg hover:bg-indigo-600 transition-transform transform hover:scale-105 shadow-lg glow-on-hover whitespace-nowrap" data-lang-key="hero_button_framework">
                            Project Framework
                        </a>
                        <a href="#hub" class="bg-emerald-500 text-white font-bold px-8 py-3 rounded-lg hover:bg-emerald-600 transition-transform transform hover:scale-105 shadow-lg glow-on-hover whitespace-nowrap" data-lang-key="hero_button_explore">
                            Explore Learning Hub
                        </a>
                        <a href="#research" class="bg-white text-gray-700 font-bold px-8 py-3 rounded-lg hover:bg-gray-100 transition-colors border border-gray-300 shadow-sm whitespace-nowrap" data-lang-key="hero_button_join">
                            Join Our Research
                        </a>
                    </div>
                </div>
                <div class="hidden md:flex flex-col gap-4">
                    <img src="https://images.unsplash.com/photo-1456513080510-7bf3a84b82f8?q=80&w=2873&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D" alt="An open book symbolizing knowledge and learning" class="rounded-2xl shadow-xl object-cover w-full h-52" data-lang-key="hero_img_alt_book">
                    <img src="https://images.unsplash.com/photo-1498050108023-c5249f4df085?q=80&w=2944&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D" alt="Digital storytelling tools representing technology and creativity" class="rounded-2xl shadow-xl object-cover w-full h-52" data-lang-key="hero_img_alt_computer">
                </div>
            </div>
        </section>

        <!-- Project Framework Section -->
        <section id="project-framework" class="py-20 clean-bg">
            <div class="container mx-auto px-6">
                <div class="text-center max-w-3xl mx-auto mb-16">
                    <h2 class="text-3xl font-extrabold text-gray-900" data-lang-key="framework_title">Project Framework</h2>
                    <p class="mt-4 text-base text-gray-600" data-lang-key="framework_subtitle">A comprehensive theoretical framework integrating digital storytelling principles with AI collaboration and value-based education capabilities.</p>
                </div>
                
                <!-- Theoretical Foundation -->
                <div class="bg-white rounded-2xl shadow-xl p-8">
                    <div class="max-w-6xl mx-auto">
                        <!-- Theoretical Framework Image -->
            <div class="text-center mb-8 px-8 py-12">
                <div class="bg-white rounded-xl shadow-sm p-8 mx-auto max-w-5xl">
                    <img src="GEN-DST PROJECT Theoretical framework1010.png" alt="Theoretical Framework Diagram" class="mx-auto rounded-lg shadow-lg max-w-full h-auto" style="padding: 2rem;">
                    <p class="mt-6 text-sm text-gray-600">Project Theoretical Framework Diagram</p>
                </div>
            </div>
                        
                        <div id="framework-accordion-container" class="space-y-4">
                            <!-- Basic Concepts -->
                            <div class="accordion-item bg-white rounded-xl shadow-md overflow-hidden">
                                <button class="accordion-header w-full text-left p-6 flex justify-between items-center bg-gray-100 hover:bg-gray-200 transition duration-300">
                                    <h2 class="text-xl font-semibold text-gray-800"><i class="fas fa-book-open mr-3 text-gray-600"></i>Basic Concepts: AI, Large Language Models, and Digital Storytelling</h2>
                                    <span class="text-2xl text-gray-600 transform transition-transform duration-300">&#9662;</span>
                                </button>
                                <div class="accordion-content">
                                    <div class="p-6 border-t border-slate-200 space-y-8">
                                        <div>
                                            <h3 class="text-lg font-semibold text-slate-800 mb-2">What is Artificial Intelligence (AI)?</h3>
                                            <ul class="list-disc pl-5 space-y-1 text-slate-700">
                                                <li><strong>Definition:</strong> Computer systems that can simulate human intelligence, enabling them to learn, reason, and make decisions</li>
                                                <li><strong>Capabilities:</strong> Pattern recognition, natural language processing, image analysis, and prediction</li>
                                                <li><strong>Applications in storytelling:</strong> Serves as a creative partner for generating text, images, audio, and video</li>
                                                <li><strong>Example:</strong> Using AI tools as creative assistants to generate story plots and images</li>
                                            </ul>
                                        </div>
                                        <div>
                                            <h3 class="text-lg font-semibold text-slate-800 mb-2">What are Large Language Models (LLMs)?</h3>
                                            <ul class="list-disc pl-5 space-y-1 text-slate-700">
                                                <li><strong>Definition:</strong> AI systems trained on vast amounts of text data that can understand and generate human-like language</li>
                                                <li><strong>Capabilities:</strong> Writing, answering questions, summarizing, and translating text</li>
                                                <li><strong>Applications in storytelling:</strong> Brainstorming ideas, script writing, character development, and dialogue creation</li>
                                                <li><strong>Example:</strong> Ask <a href="https://chat.openai.com/" target="_blank" class="text-blue-600 hover:underline">ChatGPT</a> or <a href="https://gemini.google.com/" target="_blank" class="text-blue-600 hover:underline">Google Gemini</a> "Write a short story about a lonely robot finding friendship"</li>
                                            </ul>
                                        </div>
                                        <div>
                                            <h3 class="text-lg font-semibold text-slate-800 mb-2">What is Digital Storytelling?</h3>
                                            <ul class="list-disc pl-5 space-y-1 text-slate-700">
                                                <li><strong>Definition:</strong> Using digital tools to create and share personal narratives through multimedia elements like text, images, audio, and video</li>
                                                <li><strong>Purpose:</strong> Enhance communication, personal expression, and audience engagement</li>
                                                <li><strong>AI Integration:</strong> AI can assist in creating these multimedia elements, making the process more accessible and efficient</li>
                                                <li><strong>Example:</strong> A 3-minute video combining AI-generated images, voice narration, and background music to tell a personal story</li>
                                            </ul>
                                        </div>
                                        
                                        <!-- Interactive Exercise: Story Elements Matching -->
                                        <div class="mt-8 p-6 bg-gradient-to-r from-blue-50 to-indigo-50 rounded-xl border border-blue-200">
                                            <h3 class="text-lg font-semibold text-blue-800 mb-4">
                                                <i class="fas fa-puzzle-piece mr-2"></i>Interactive Exercise: Story Elements Matching
                                            </h3>
                                            <p class="text-slate-700 mb-6">Match each story element to its correct description by dragging and dropping. Understanding these seven elements is fundamental to effective digital storytelling.</p>
                                            
                                            <div class="grid md:grid-cols-2 gap-6">
                                                <div>
                                                    <h4 class="font-semibold text-slate-800 mb-3">Story Elements</h4>
                                                    <div id="elements" class="space-y-2 min-h-[200px] p-3 bg-white rounded-lg border-2 border-dashed border-slate-300">
                                                        <!-- Elements will be populated by JavaScript -->
                                                    </div>
                                                </div>
                                                <div>
                                                    <h4 class="font-semibold text-slate-800 mb-3">Descriptions</h4>
                                                    <div id="descriptions" class="space-y-2">
                                                        <!-- Descriptions will be populated by JavaScript -->
                                                    </div>
                                                </div>
                                            </div>
                                            
                                            <div class="text-center mt-6">
                                                <div class="flex justify-center gap-4 mb-4">
                                                    <button id="check-elements-btn" class="bg-blue-600 text-white font-bold py-2 px-6 rounded-lg hover:bg-blue-700 transition duration-300">Check Answers</button>
                                                    <button id="reset-elements-btn" class="bg-gray-500 text-white font-bold py-2 px-6 rounded-lg hover:bg-gray-600 transition duration-300">Reset Exercise</button>
                                                </div>
                                                <div id="elements-feedback" class="feedback-message"></div>
                                                <div id="correct-answers-container" class="mt-6 hidden text-left">
                                                    <h4 class="text-lg font-semibold text-slate-800 mb-2">Correct Answers:</h4>
                                                    <div id="correct-answers-list" class="space-y-2"></div>
                                                </div>
                                                <p class="mt-4 text-sm text-slate-500">For a detailed explanation of each element, visit <a href="https://web.suffieldacademy.org/~bsullivan/seven.elements.html" target="_blank" class="text-blue-600 underline">this resource from Suffield Academy</a>.</p>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                        </div>
                        

                    </div>
                </div>
            </div>
        </section>

        <!-- Learning Hub Section -->
        <section id="hub" class="py-20 slate-bg">
            <div class="container mx-auto px-6">
                <div class="text-center max-w-3xl mx-auto mb-16">
                    <h2 class="text-3xl font-extrabold text-gray-900" data-lang-key="hub_title">Open Learning Center</h2>
                    <p class="mt-4 text-base text-gray-600" data-lang-key="hub_subtitle">Explore comprehensive resources, interactive guides, and AI tools to enhance your digital storytelling journey.</p>
                </div>
                
                <div class="grid md:grid-cols-2 gap-8 max-w-4xl mx-auto">
                    <!-- AI Learning Companion Card -->
                    <div class="feature-card emerald-glow">
                        <div>
                            <div class="w-16 h-16 bg-emerald-100 rounded-xl flex items-center justify-center mb-6">
                                <i class="fas fa-robot text-2xl text-emerald-600"></i>
                            </div>
                            <h3 class="text-lg font-bold text-gray-800 mt-6" data-lang-key="hub_card1_title">AI Learning Companion</h3>
                            <p class="text-gray-600 mt-3" data-lang-key="hub_card1_desc">Interactive AI assistant to guide you through the digital storytelling process, provide personalized feedback, and answer your questions.</p>
                        </div>
                        <div class="mt-6">
                            <a href="#ai-companion" class="text-emerald-600 font-semibold hover:text-emerald-700 transition-colors" data-lang-key="hub_card1_link">
                                Explore AI Companion <i class="fas fa-arrow-right ml-2"></i>
                            </a>
                        </div>
                    </div>
                    
                    <!-- Interactive Guide Card -->
                    <div class="feature-card cyan-glow">
                        <div>
                            <div class="w-16 h-16 bg-cyan-100 rounded-xl flex items-center justify-center mb-6">
                                <i class="fas fa-map text-2xl text-cyan-600"></i>
                            </div>
                            <h3 class="text-lg font-bold text-gray-800 mt-6" data-lang-key="hub_card2_title">Interactive Guide</h3>
                            <p class="text-gray-600 mt-3" data-lang-key="hub_card2_desc">Step-by-step interactive tutorials covering all phases of AI-powered digital storytelling, from concept to final production.</p>
                        </div>
                        <div class="mt-6">
                            <a href="#interactive-guide" class="text-cyan-600 font-semibold hover:text-cyan-700 transition-colors" data-lang-key="hub_card2_link">
                                Start Interactive Guide <i class="fas fa-arrow-right ml-2"></i>
                            </a>
                        </div>
                    </div>
                    

                </div>
            </div>
        </section>



        <!-- AI Learning Companion Section -->
        <section id="ai-companion" class="py-20 slate-bg">
            <div class="container mx-auto px-6">
                <div class="text-center max-w-3xl mx-auto mb-16">
                    <h3 class="text-2xl font-bold text-center" data-lang-key="ai_title">AI Learning Companion</h3>
                    <p class="mt-4 text-base text-gray-600" data-lang-key="ai_subtitle">Your intelligent assistant for digital storytelling creation and learning.</p>
                </div>
                
                <div class="grid md:grid-cols-3 gap-8 mb-12">
                    <div class="bg-white rounded-xl p-6 shadow-lg">
                        <div class="w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center mb-4">
                            <i class="fas fa-question-circle text-xl text-blue-600"></i>
                        </div>
                        <h4 class="font-bold text-base mt-3" data-lang-key="ai_feature1_title">Knowledge Q&A</h4>
                        <p class="text-gray-600 text-sm mt-2" data-lang-key="ai_feature1_desc">Ask questions about digital storytelling concepts, AI tools, and creative techniques.</p>
                    </div>
                    
                    <div class="bg-white rounded-xl p-6 shadow-lg">
                        <div class="w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center mb-4">
                            <i class="fas fa-pen-fancy text-xl text-green-600"></i>
                        </div>
                        <h4 class="font-bold text-base mt-3" data-lang-key="ai_feature2_title">Script Writing Assistant</h4>
                        <p class="text-gray-600 text-sm mt-2" data-lang-key="ai_feature2_desc">Get help with story development, character creation, and dialogue writing.</p>
                    </div>
                    
                    <div class="bg-white rounded-xl p-6 shadow-lg">
                        <div class="w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center mb-4">
                            <i class="fas fa-magic text-xl text-purple-600"></i>
                        </div>
                        <h4 class="font-bold text-base mt-3" data-lang-key="ai_feature3_title">Multimodal Prompt Assistant</h4>
                        <p class="text-gray-600 text-sm mt-2" data-lang-key="ai_feature3_desc">Generate optimized prompts for AI image, audio, and video creation tools.</p>
                    </div>
                </div>
                
                <!-- AI Companion Interface -->
                <div class="bg-gradient-to-br from-indigo-900 via-purple-900 to-pink-900 rounded-2xl p-8 text-white">
                    <div class="max-w-4xl mx-auto">
                        <div class="text-center mb-8">
                            <h4 class="text-xl font-bold text-white">AI Learning Companion Agent</h4>
                            <p class="text-indigo-200 mt-2">Your intelligent guide for digital storytelling creation</p>
                        </div>
                        
                        <div class="bg-white/10 backdrop-blur-lg rounded-xl p-6">
                            <div class="flex items-center space-x-4 mb-4">
                                <div class="w-10 h-10 bg-gradient-to-r from-cyan-400 to-blue-500 rounded-full flex items-center justify-center">
                                    <i class="fas fa-robot text-white"></i>
                                </div>
                                <div>
                                    <p class="font-semibold">AI Companion</p>
                                    <p class="text-sm text-indigo-200">Ready to assist with your storytelling journey</p>
                                </div>
                            </div>
                            
                            <div class="space-y-4">
                                <div class="bg-white/5 rounded-lg p-4">
                                    <p class="text-sm text-indigo-100 mb-2">💡 <strong>Suggestion:</strong></p>
                                    <p class="text-white">Try asking me: "How can I create a compelling character for my digital story?" or "What AI tools are best for generating background music?"</p>
                                </div>
                                
                                <div class="flex space-x-2">
                                    <a href="https://doubao.com/bot/UTugVvnw" target="_blank" class="flex-1 bg-gradient-to-r from-cyan-500 to-blue-600 hover:from-cyan-600 hover:to-blue-700 px-6 py-3 rounded-lg font-semibold transition-all duration-200 transform hover:scale-105 text-center text-white no-underline">
                                        <i class="fas fa-robot mr-2"></i>
                                        Start AI Companion Chat
                                    </a>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Interactive Guide Section -->
        <section id="interactive-guide" class="py-20 clean-bg">
            <div class="container mx-auto px-6">
                <div class="text-center max-w-3xl mx-auto mb-16">
                    <h2 class="text-3xl font-extrabold text-gray-900">AI Digital Storytelling Interactive Guide</h2>
                    <p class="mt-4 text-base text-gray-600">Follow our comprehensive step-by-step guide to create amazing digital stories with AI assistance.</p>
                </div>
                
                <div class="bg-white rounded-2xl shadow-xl p-8">
                    <div class="max-w-6xl mx-auto">
                        <div class="text-center mb-12">
                            <h1 class="text-4xl md:text-5xl font-bold text-sky-700">Interactive Guide to AI Digital Storytelling</h1>
                            <p class="mt-4 text-lg text-gray-600">Master the art of AI-powered digital storytelling through hands-on learning</p>
                        </div>

        <div id="accordion-container" class="space-y-4">
            <!-- AI Digital Storytelling Workflow Process -->
            <div class="accordion-item bg-white rounded-xl shadow-md overflow-hidden">
                <button class="accordion-header w-full text-left p-6 flex justify-between items-center bg-blue-50 hover:bg-blue-100 transition duration-300">
                    <h2 class="text-xl font-semibold text-blue-800"><i class="fas fa-project-diagram mr-3 text-blue-600"></i>AI Digital Storytelling Workflow Process</h2>
                    <span class="text-2xl text-blue-600 transform transition-transform duration-300">&#9662;</span>
                </button>
                <div class="accordion-content">
                    <div class="p-6 border-t border-blue-200 space-y-6">
                        <div>
                            <h4 class="font-semibold text-blue-800 mb-2">Phase 1: Ideation and Planning</h4>
                            <p class="text-slate-700">Brainstorm story concepts, develop characters, and outline the narrative structure using AI assistance for creative inspiration.</p>
                        </div>
                        <div>
                            <h4 class="font-semibold text-green-800 mb-2">Phase 2: Script and Content Creation</h4>
                            <p class="text-slate-700">Write dialogue, narration, and scene descriptions with AI tools helping to refine language and enhance storytelling elements.</p>
                        </div>
                        <div>
                            <h4 class="font-semibold text-purple-800 mb-2">Phase 3: Visual Content Generation</h4>
                            <p class="text-slate-700">Create images, illustrations, and visual elements using AI image generation tools to bring the story to life visually.</p>
                        </div>
                        <div>
                            <h4 class="font-semibold text-orange-800 mb-2">Phase 4: Audio and Music Creation</h4>
                            <p class="text-slate-700">Generate voiceovers, sound effects, and background music using AI audio tools to enhance the emotional impact.</p>
                        </div>
                        <div>
                            <h4 class="font-semibold text-red-800 mb-2">Phase 5: Editing and Final Production</h4>
                            <p class="text-slate-700">Combine all elements using video editing software and AI-powered post-production tools to create the final digital story.</p>
                        </div>
                        
                        <!-- Complete Workflow SVG -->
                        <div class="mt-8 bg-gradient-to-br from-blue-50 to-indigo-100 rounded-xl p-6">
                            <h4 class="text-lg font-semibold text-blue-800 mb-4 text-center">The Complete AI Digital Storytelling Workflow</h4>
                            <div class="flex justify-center">
                                <svg width="100%" viewBox="0 0 1600 1000" xmlns="http://www.w3.org/2000/svg" font-family="Inter, sans-serif">
                                    <defs>
                                        <marker id="arrowhead-flow" markerWidth="10" markerHeight="7" refX="0" refY="3.5" orient="auto">
                                            <polygon points="0 0, 10 3.5, 0 7" fill="#64748b" />
                                        </marker>
                                    </defs>
                                    
                                    <g stroke="#64748b" stroke-width="2" marker-end="url(#arrowhead-flow)">
                                        <!-- Main Connections from Title to Phases -->
                                        <path d="M 800 80 V 120 H 150 V 170" fill="none"/>
                                        <path d="M 800 80 V 120 H 450 V 170" fill="none"/>
                                        <path d="M 800 80 V 120 H 750 V 170" fill="none"/>
                                        <path d="M 800 80 V 120 H 1050 V 170" fill="none"/>
                                        <path d="M 800 80 V 120 H 1350 V 170" fill="none"/>

                                        <!-- Connections from Phases to Details -->
                                        <line x1="150" y1="230" x2="150" y2="280"/>
                                        <line x1="150" y1="380" x2="150" y2="430"/>
                                        <line x1="150" y1="530" x2="150" y2="580"/>
                                        
                                        <line x1="450" y1="230" x2="450" y2="280"/>
                                        <line x1="450" y1="380" x2="450" y2="430"/>
                                        <line x1="450" y1="530" x2="450" y2="580"/>
                                        <line x1="450" y1="680" x2="450" y2="730"/>

                                        <line x1="750" y1="230" x2="750" y2="280"/>
                                        <line x1="750" y1="380" x2="750" y2="430"/>
                                        <line x1="750" y1="530" x2="750" y2="580"/>

                                        <line x1="1050" y1="230" x2="1050" y2="280"/>
                                        <line x1="1050" y1="380" x2="1050" y2="430"/>
                                        <line x1="1050" y1="530" x2="1050" y2="580"/>

                                        <line x1="1350" y1="230" x2="1350" y2="280"/>
                                        <line x1="1350" y1="380" x2="1350" y2="430"/>
                                        <line x1="1350" y1="530" x2="1350" y2="580"/>

                                        <!-- Connections to All-in-One -->
                                        <path d="M 150 230 V 850 H 800" fill="none" stroke-dasharray="5,5"/>
                                        <path d="M 450 230 V 850 H 800" fill="none" stroke-dasharray="5,5"/>
                                        <path d="M 750 230 V 850 H 800" fill="none" stroke-dasharray="5,5"/>
                                        <path d="M 1050 230 V 850 H 800" fill="none" stroke-dasharray="5,5"/>
                                        <path d="M 1350 230 V 850 H 800" fill="none" stroke-dasharray="5,5"/>
                                    </g>
                                    
                                    <!-- Main Title -->
                                    <g transform="translate(800 50)" text-anchor="middle">
                                        <rect x="-170" y="-20" width="340" height="50" rx="10" fill="#2c3e50"/>
                                        <text y="12" font-size="16" font-weight="bold" fill="white">AI Digital Story Creation Process</text>
                                    </g>

                                    <!-- PHASES -->
                                    <g text-anchor="middle">
                                        <!-- Phase 1 -->
                                        <rect x="0" y="170" width="300" height="60" rx="10" fill="#3498db"/>
                                        <text x="150" y="205" font-size="14" font-weight="600" fill="white">Phase 1: Story Ideation & Scripting</text>
                                        <!-- Phase 2 -->
                                        <rect x="300" y="170" width="300" height="60" rx="10" fill="#3498db"/>
                                        <text x="450" y="205" font-size="14" font-weight="600" fill="white">Phase 2: Text-to-Image Visualization</text>
                                        <!-- Phase 3 -->
                                        <rect x="600" y="170" width="300" height="60" rx="10" fill="#3498db"/>
                                        <text x="750" y="205" font-size="14" font-weight="600" fill="white">Phase 3: Image-to-Video Animation</text>
                                        <!-- Phase 4 -->
                                        <rect x="900" y="170" width="300" height="60" rx="10" fill="#3498db"/>
                                        <text x="1050" y="205" font-size="14" font-weight="600" fill="white">Phase 4: Audio Processing</text>
                                        <!-- Phase 5 -->
                                        <rect x="1200" y="170" width="300" height="60" rx="10" fill="#3498db"/>
                                        <text x="1350" y="205" font-size="14" font-weight="600" fill="white">Phase 5: Editing & Final Output</text>
                                    </g>

                                    <!-- DETAILS -->
                                    <!-- Phase 1 Details -->
                                    <g text-anchor="middle">
                                        <rect x="0" y="280" width="300" height="100" rx="8" fill="#f3f4f6" stroke="#d1d5db"/>
                                        <text x="150" y="300" font-size="12" font-weight="600" fill="#374151">Creation Steps</text>
                                        <text x="150" y="330" font-size="11" fill="#4b5563">Source Material -> Define Theme</text>
                                        <text x="150" y="350" font-size="11" fill="#4b5563">Outline -> Write Dialogue</text>
                                        
                                        <rect x="0" y="430" width="300" height="100" rx="8" fill="#f3f4f6" stroke="#d1d5db"/>
                                        <text x="150" y="450" font-size="12" font-weight="600" fill="#374151">AI Assistance</text>
                                        <text x="150" y="480" font-size="11" fill="#4b5563">Prompt Optimization Tools:</text>
                                        <text x="150" y="500" font-size="11" fill="#4b5563">Prompt Pilot, Doubao, Prompt Optimizer</text>

                                        <rect x="0" y="580" width="300" height="100" rx="8" fill="#f0abfc" stroke="#c026d3"/>
                                        <text x="150" y="600" font-size="12" font-weight="600" fill="#701a75">Key to Success: Narrative Quality</text>
                                        <text x="150" y="630" font-size="11" fill="#86198f">Clear Theme/Complete Structure</text>
                                        <text x="150" y="650" font-size="11" fill="#86198f">Genuine Emotion</text>
                                    </g>
                                    
                                    <!-- Phase 2 Details -->
                                     <g text-anchor="middle">
                                        <rect x="300" y="280" width="300" height="100" rx="8" fill="#f3f4f6" stroke="#d1d5db"/>
                                        <text x="450" y="300" font-size="12" font-weight="600" fill="#374151">Creation Steps</text>
                                        <text x="450" y="330" font-size="11" fill="#4b5563">Construct Prompts -> Generate & Optimize</text>
                                        
                                        <rect x="300" y="430" width="300" height="100" rx="8" fill="#f3f4f6" stroke="#d1d5db"/>
                                        <text x="450" y="450" font-size="12" font-weight="600" fill="#374151">AI Assistance & Challenges</text>
                                        <text x="450" y="480" font-size="11" fill="#4b5563">Prompt Structure: Subject+Background+...</text>
                                        <text x="450" y="500" font-size="11" fill="#4b5563">Character Consistency/Efficiency & Cost</text>
                                        
                                         <rect x="300" y="580" width="300" height="100" rx="8" fill="#d1fae5" stroke="#059669"/>
                                        <text x="450" y="600" font-size="12" font-weight="600" fill="#047857">Solutions</text>
                                        <text x="450" y="630" font-size="11" fill="#065f46">A: Lovart+NanoBana Bulk Generation</text>
                                         <text x="450" y="650" font-size="11" fill="#065f46">B: Digital Human Replacement</text>

                                        <rect x="300" y="730" width="300" height="100" rx="8" fill="#f0abfc" stroke="#c026d3"/>
                                        <text x="450" y="750" font-size="12" font-weight="600" fill="#701a75">Key to Success: Artistic Quality</text>
                                        <text x="450" y="780" font-size="11" fill="#86198f">Visual Consistency/Aesthetics/Relevance</text>
                                    </g>

                                    <!-- Phase 3 Details -->
                                    <g text-anchor="middle">
                                        <rect x="600" y="280" width="300" height="100" rx="8" fill="#f3f4f6" stroke="#d1d5db"/>
                                        <text x="750" y="300" font-size="12" font-weight="600" fill="#374151">Creation Steps</text>
                                        <text x="750" y="330" font-size="11" fill="#4b5563">Multi-platform Testing -> Generate Video</text>
                                        
                                        <rect x="600" y="430" width="300" height="100" rx="8" fill="#f3f4f6" stroke="#d1d5db"/>
                                        <text x="750" y="450" font-size="12" font-weight="600" fill="#374151">AI Assistance</text>
                                        <text x="750" y="480" font-size="11" fill="#4b5563">Platforms: Keleing, Hailuo, Jimeng, Runway</text>

                                        <rect x="600" y="580" width="300" height="100" rx="8" fill="#f0abfc" stroke="#c026d3"/>
                                        <text x="750" y="600" font-size="12" font-weight="600" fill="#701a75">Key to Success: Technical Quality</text>
                                        <text x="750" y="630" font-size="11" fill="#86198f">Motion Fluency / Matching Degree</text>
                                    </g>

                                    <!-- Phase 4 Details -->
                                    <g text-anchor="middle">
                                         <rect x="900" y="280" width="300" height="100" rx="8" fill="#f3f4f6" stroke="#d1d5db"/>
                                        <text x="1050" y="300" font-size="12" font-weight="600" fill="#374151">Creation Steps</text>
                                        <text x="1050" y="330" font-size="11" fill="#4b5563">Generate Narration -> Character Lip Sync</text>
                                        
                                        <rect x="900" y="430" width="300" height="100" rx="8" fill="#f3f4f6" stroke="#d1d5db"/>
                                        <text x="1050" y="450" font-size="12" font-weight="600" fill="#374151">AI Assistance</text>
                                        <text x="1050" y="480" font-size="11" fill="#4b5563">Narration: Minimax, TTSMaker</text>
                                        <text x="1050" y="500" font-size="11" fill="#4b5563">Lip Sync: Jimeng + CapCut Digital Human</text>

                                        <rect x="900" y="580" width="300" height="100" rx="8" fill="#f0abfc" stroke="#c026d3"/>
                                        <text x="1050" y="600" font-size="12" font-weight="600" fill="#701a75">Key to Success: Technical Quality</text>
                                        <text x="1050" y="630" font-size="11" fill="#86198f">Sound Quality/Expressiveness</text>
                                        <text x="1050" y="650" font-size="11" fill="#86198f">Audio-Visual Sync</text>
                                    </g>

                                    <!-- Phase 5 Details -->
                                     <g text-anchor="middle">
                                         <rect x="1200" y="280" width="300" height="100" rx="8" fill="#f3f4f6" stroke="#d1d5db"/>
                                        <text x="1350" y="300" font-size="12" font-weight="600" fill="#374151">Creation Steps</text>
                                        <text x="1350" y="330" font-size="11" fill="#4b5563">Integrate Assets -> Add Effects/Subtitles</text>
                                         <text x="1350" y="350" font-size="11" fill="#4b5563"> -> Export</text>
                                        
                                        <rect x="1200" y="430" width="300" height="100" rx="8" fill="#f3f4f6" stroke="#d1d5db"/>
                                        <text x="1350" y="450" font-size="12" font-weight="600" fill="#374151">Tools</text>
                                        <text x="1350" y="480" font-size="11" fill="#4b5563">CapCut, Premiere Pro, etc.</text>
                                        
                                        <rect x="1200" y="580" width="300" height="100" rx="8" fill="#f0abfc" stroke="#c026d3"/>
                                        <text x="1350" y="600" font-size="12" font-weight="600" fill="#701a75">Key to Success: Innovation</text>
                                        <text x="1350" y="630" font-size="11" fill="#86198f">Overall Pacing</text>
                                         <text x="1350" y="650" font-size="11" fill="#86198f">Comprehensive Experience</text>
                                    </g>

                                    <!-- All in One Platform -->
                                    <g transform="translate(800 880)" text-anchor="middle">
                                        <rect x="-200" y="-25" width="400" height="50" rx="10" fill="#e2e8f0"/>
                                        <text y="8" font-size="14" font-weight="bold" fill="#1e293b">All-in-One Platforms</text>
                                    </g>
                                </svg>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- All-in-One Platforms -->
            <div class="accordion-item bg-white rounded-xl shadow-md overflow-hidden">
                <button class="accordion-header w-full text-left p-6 flex justify-between items-center bg-slate-100 hover:bg-slate-200 transition duration-300">
                    <h2 class="text-xl font-semibold text-slate-800"><i class="fas fa-magic-wand-sparkles mr-3 text-slate-600"></i>Prologue: All-in-One Platforms</h2>
                    <span class="text-2xl text-slate-600 transform transition-transform duration-300">&#9662;</span>
                </button>
                <div class="accordion-content">
                    <div class="p-6 border-t border-slate-200">
                        <p class="mb-4 text-slate-700">Before diving into individual phases, let's look at platforms that integrate the entire workflow from script to video. Here's a comparison:</p>
                        
                        <div class="overflow-x-auto">
                            <table class="comparison-table">
                                <thead>
                                    <tr>
                                        <th>Platform</th>
                                        <th>Special Features</th>
                                        <th>Cons</th>
                                        <th>Free Credits & Pricing (Verified from Screenshots)</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td>
                                            <a href="https://www.skyreels.ai/home/tools/to-video?refer=navbar" target="_blank" class="font-bold">Skyreels</a>
                                        </td>
                                        <td>
                                            <ul>
                                                <li>Automated "script-to-video" workflow.</li>
                                                <li>Focuses on creating short-form video content quickly.</li>
                                                <li>Provides a library of templates and styles.</li>
                                            </ul>
                                        </td>
                                        <td>Less granular control over each step compared to specialized tools. May be more template-driven.</td>
                                        <td>Offers **5 bonus credits** on signup. Paid plans start at **$9.90/month** for 1,000 credits.</td>
                                    </tr>
                                    <tr>
                                        <td>
                                            <a href="https://opencreator.io/" target="_blank" class="font-bold">Open Creator</a>
                                        </td>
                                        <td>
                                            <ul>
                                                <li>Community-focused, allowing users to share and use pre-built "workflows".</li>
                                                <li>Excellent for inspiration and learning how different elements are combined.</li>
                                                <li>Integrates with various external models.</li>
                                            </ul>
                                        </td>
                                        <td>Acts more as a workflow manager than a core generation tool; quality depends on the chosen workflow.</td>
                                        <td>Free plan offers **200 credits/month** (for 2 projects). Paid plans start at **$14/month** for 7,000 credits.</td>
                                    </tr>
                                    <tr>
                                        <td>
                                            <a href="https://openart.ai/home" target="_blank" class="font-bold">OpenArt</a>
                                        </td>
                                        <td>
                                            <ul>
                                                <li>Very powerful and consistent character generation tools.</li>
                                                <li>Huge library of image styles and models.</li>
                                                <li>Includes image-to-video animation features.</li>
                                            </ul>
                                        </td>
                                        <td>While strong in image generation, its video and audio features may be less advanced than dedicated platforms.</td>
                                        <td>Free plan offers **40 one-time trial credits** (+50 for joining Discord). Paid plans start at **$14/month** (billed annually) for 4,000 credits/month.</td>
                                    </tr>
                                    <tr>
                                        <td>
                                            <a href="https://www.lovart.ai/" target="_blank" class="font-bold">Lovart</a>
                                        </td>
                                        <td>
                                            <ul>
                                                <li>Specializes in artistic image generation.</li>
                                                <li>Strong focus on character consistency tools.</li>
                                            </ul>
                                        </td>
                                        <td>Less focused on video/audio compared to other all-in-one platforms.</td>
                                        <td>Offers **200 free credits** upon signup.</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
                                </div>
                            </div>
                        </div>

            <!-- Phase 1: Story Conception & Script Generation -->
            <div class="accordion-item bg-white rounded-xl shadow-md overflow-hidden">
                <button class="accordion-header w-full text-left p-6 flex justify-between items-center bg-sky-100 hover:bg-sky-200 transition duration-300">
                    <h2 class="text-xl font-semibold text-sky-800"><i class="fas fa-lightbulb mr-3 text-sky-600"></i>Phase 1: Story Conception & Script Generation</h2>
                    <span class="text-2xl text-sky-600 transform transition-transform duration-300">&#9662;</span>
                </button>
                <div class="accordion-content">
                    <div class="p-6 border-t border-slate-200">
                        <p class="mb-4 text-slate-700">This phase is about writing the script. Explore these tools to bring your ideas to life.</p>
                        
                        <div class="info-box">
                            <h4><i class="fas fa-tools mr-2"></i>Key Tools & Strategies</h4>
                            <ul>
                                <li>
                                    <strong>1. Script Generation (LLMs):</strong> Start here to brainstorm and write your first draft.
                                    <div class="overflow-x-auto">
                                        <table class="comparison-table">
                                            <thead>
                                                <tr>
                                                    <th>Tool</th>
                                                    <th>Pros</th>
                                                    <th>Cons</th>
                                                    <th>Cost</th>
                                                </tr>
                                            </thead>
                                            <tbody>
                                                <tr>
                                                    <td><a href="https://chat.openai.com/" target="_blank">ChatGPT (Free)</a></td>
                                                    <td>Widely available, strong general creative ability.</td>
                                                    <td>Usage limits during peak times, knowledge cutoff.</td>
                                                    <td>Free</td>
                                                </tr>
                                                <tr>
                                                    <td><a href="https://gemini.google.com/" target="_blank">Google Gemini</a></td>
                                                    <td>Excellent for brainstorming, integrates with Google ecosystem.</td>
                                                    <td>Can sometimes be overly verbose or "safe".</td>
                                                    <td>Free</td>
                                                </tr>
                                                <tr>
                                                    <td><a href="https://www.deepseek.com/" target="_blank">DeepSeek</a></td>
                                                    <td>Strong coding & logical reasoning for structured scripts.</td>
                                                    <td>Free version may have lower token limits.</td>
                                                    <td>Free (with limits)</td>
                                                </tr>
                                                <tr>
                                                    <td><a href="https://www.doubao.com/" target="_blank">Doubao (豆包)</a></td>
                                                    <td>Optimized for Chinese language and culture.</td>
                                                    <td>UI is primarily in Chinese.</td>
                                                    <td>Free</td>
                                                </tr>
                                                <tr>
                                                    <td><a href="https://tongyi.aliyun.com/" target="_blank">Tongyi Qwen (通义千问)</a></td>
                                                    <td>Strong performance in Chinese, from Alibaba.</td>
                                                    <td>Best experienced in Chinese.</td>
                                                    <td>Free (with limits)</td>
                                                </tr>
                                            </tbody>
                                        </table>
                                    </div>
                                </li>
                                <li class="mt-6">
                                    <strong>2. Prompt Optimizing Tools:</strong> Use these to refine your ideas.
                                    <ul class="list-['-_'] pl-4 mt-2 space-y-1">
                                        <li><a href="https://promptpilot.ai/" target="_blank">PromptPilot</a> - A web-based tool for optimizing prompts.</li>
                                        <li><strong>Prompt Optimizer:</strong> An extension for browsers. Search for it on the <a href="https://microsoftedge.microsoft.com/addons/Microsoft-Edge-Extensions-Home" target="_blank">Microsoft Edge Add-ons</a> store or the <a href="https://chromewebstore.google.com/category/extensions?utm_source=ext_sidebar&hl=en-US" target="_blank">Chrome Web Store</a>.</li>
                                    </ul>
                                </li>
                                <li class="mt-4">
                                    <strong>3. Automated Script Generation (Agents):</strong> For a more hands-off approach.
                                    <ul class="list-['-_'] pl-4 mt-2 space-y-1">
                                        <li><a href="https://www.doubao.com/" target="_blank">Doubao (豆包) Agents</a> - Inside Doubao, search its AI Agent marketplace for "Short Video Script Writer" to generate a full script.</li>
                                        <li><a href="https://tongyi.aliyun.com/" target="_blank">Tongyi Agents (通义智能体)</a> - Similarly, Tongyi Qwen offers a marketplace of intelligent agents for various tasks, including scriptwriting.</li>
                                        <li><a href="https://chatgpt.com/g/g-3wt0fdGXq-script-nexus-scriptwriting-examiner" target="_blank">GPTs (Custom Agents in ChatGPT)</a> - The GPT Store has specialized agents for scriptwriting, but requires a ChatGPT Plus subscription.</li>
                                    </ul>
                                </li>
                            </ul>
                        </div>

                        <h3 class="text-lg font-semibold my-6 text-slate-800">Exercise: AI Tool Matching Game</h3>
                        <p class="mb-4 text-slate-700">Match each scenario with the most suitable AI tool. Drag the scenarios to the correct tool category!</p>
                        
                        <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
                            <!-- Scenarios to drag -->
                            <div class="space-y-4">
                                <h4 class="font-semibold text-slate-800 mb-3">Scenarios (Drag to match):</h4>
                                <div id="scenarios-container" class="space-y-3">
                                    <div class="scenario-card draggable bg-blue-100 p-3 rounded-lg cursor-move border-2 border-transparent hover:border-blue-300 transition-all" data-scenario="quick-brainstorm">
                                        <p class="text-sm font-medium">Quick brainstorming for a comedy short film script</p>
                                    </div>
                                    <div class="scenario-card draggable bg-green-100 p-3 rounded-lg cursor-move border-2 border-transparent hover:border-green-300 transition-all" data-scenario="chinese-culture">
                                        <p class="text-sm font-medium">Creating a script about traditional Chinese festivals</p>
                                    </div>
                                    <div class="scenario-card draggable bg-purple-100 p-3 rounded-lg cursor-move border-2 border-transparent hover:border-purple-300 transition-all" data-scenario="technical-script">
                                        <p class="text-sm font-medium">Writing a structured script with precise formatting</p>
                                    </div>
                                    <div class="scenario-card draggable bg-orange-100 p-3 rounded-lg cursor-move border-2 border-transparent hover:border-orange-300 transition-all" data-scenario="full-automation">
                                        <p class="text-sm font-medium">Complete hands-off script generation with minimal input</p>
                                    </div>
                                    <div class="scenario-card draggable bg-pink-100 p-3 rounded-lg cursor-move border-2 border-transparent hover:border-pink-300 transition-all" data-scenario="prompt-refine">
                                        <p class="text-sm font-medium">Improving and optimizing existing script ideas</p>
                                    </div>
                                </div>
                            </div>

                            <!-- Tool categories -->
                            <div class="space-y-4">
                                <h4 class="font-semibold text-slate-800 mb-3">AI Tool Categories:</h4>
                                <div class="space-y-4">
                                    <div class="tool-category bg-white p-4 rounded-lg border-2 border-dashed border-gray-300 min-h-[80px]" data-tool="chatgpt">
                                        <h5 class="font-semibold text-gray-700 mb-2">ChatGPT / Gemini</h5>
                                        <div class="drop-zone-scenarios" data-correct='["quick-brainstorm"]'></div>
                                    </div>
                                    <div class="tool-category bg-white p-4 rounded-lg border-2 border-dashed border-gray-300 min-h-[80px]" data-tool="chinese-ai">
                                        <h5 class="font-semibold text-gray-700 mb-2">Doubao / Tongyi Qwen</h5>
                                        <div class="drop-zone-scenarios" data-correct='["chinese-culture"]'></div>
                                    </div>
                                    <div class="tool-category bg-white p-4 rounded-lg border-2 border-dashed border-gray-300 min-h-[80px]" data-tool="deepseek">
                                        <h5 class="font-semibold text-gray-700 mb-2">DeepSeek</h5>
                                        <div class="drop-zone-scenarios" data-correct='["technical-script"]'></div>
                                    </div>
                                    <div class="tool-category bg-white p-4 rounded-lg border-2 border-dashed border-gray-300 min-h-[80px]" data-tool="agents">
                                        <h5 class="font-semibold text-gray-700 mb-2">AI Agents / GPTs</h5>
                                        <div class="drop-zone-scenarios" data-correct='["full-automation"]'></div>
                                    </div>
                                    <div class="tool-category bg-white p-4 rounded-lg border-2 border-dashed border-gray-300 min-h-[80px]" data-tool="optimizers">
                                        <h5 class="font-semibold text-gray-700 mb-2">Prompt Optimizers</h5>
                                        <div class="drop-zone-scenarios" data-correct='["prompt-refine"]'></div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="text-center mt-6">
                            <div class="flex justify-center gap-4 mb-4">
                                <button id="check-matching-btn" class="bg-sky-600 text-white font-bold py-2 px-6 rounded-lg hover:bg-sky-700 transition duration-300">Check Matches</button>
                                <button id="reset-matching-btn" class="bg-gray-500 text-white font-bold py-2 px-6 rounded-lg hover:bg-gray-600 transition duration-300">Reset Exercise</button>
                            </div>
                            <div id="matching-feedback" class="feedback-message"></div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Phase 2: Text-to-Image (Visualization) -->
            <div class="accordion-item bg-white rounded-xl shadow-md overflow-hidden">
                <button class="accordion-header w-full text-left p-6 flex justify-between items-center bg-teal-100 hover:bg-teal-200 transition duration-300">
                    <h2 class="text-xl font-semibold text-teal-800"><i class="fas fa-image mr-3 text-teal-600"></i>Phase 2: Text-to-Image (Visualization)</h2>
                    <span class="text-2xl text-teal-600 transform transition-transform duration-300">&#9662;</span>
                </button>
                <div class="accordion-content">
                    <div class="p-6 border-t border-slate-200">
                        <p class="mb-4 text-slate-700">Converting text to images is all about the prompt. A good prompt structure usually includes a subject, action, and style. Let's build your own!</p>
                        
                        <div class="info-box" style="border-color: #14b8a6;">
                            <h4><i class="fas fa-tools mr-2"></i>Key Tools & Strategies</h4>
                             <div class="overflow-x-auto">
                                <table class="comparison-table">
                                    <thead>
                                        <tr>
                                            <th>Tool</th>
                                            <th>Pros</th>
                                            <th>Cons</th>
                                            <th>Free Credits & Pricing (Verified)</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                            <td><a href="https://www.midjourney.com/" target="_blank">Midjourney</a></td>
                                            <td>Industry leader for artistic quality and aesthetic coherence. Very powerful.</td>
                                            <td>Requires Discord app. No free trial. Can be expensive for heavy use.</td>
                                            <td>Starts at <strong>$8/month</strong> (billed annually).</td>
                                        </tr>
                                        <tr>
                                            <td><a href="https://stablediffusionweb.com/" target="_blank">Stable Diffusion Web</a></td>
                                            <td>Web UI for Stable Diffusion. Daily free credits.</td>
                                            <td>Quality may vary. Advanced features are paid.</td>
                                            <td><strong>20 free credits</strong> daily. Pro plan starts at <strong>$7/month</strong> (billed yearly).</td>
                                        </tr>
                                        <tr>
                                            <td><a href="https://jimeng.jianying.com/ai-tool/login" target="_blank">Jimeng (即梦)</a></td>
                                            <td>Great for anime and Chinese art styles. From Bytedance. Can generate multiple images.</td>
                                            <td>UI is primarily in Chinese. Access can be limited.</td>
                                            <td>Currently <strong>60 free credits</strong> daily.</td>
                                        </tr>
                                         <tr>
                                            <td><a href="https://app.klingai.com/global/" target="_blank">Kling</a></td>
                                            <td>Primarily a video tool, but strong for generating visual assets for video. From Bytedance.</td>
                                            <td>Mainly focused on video generation. UI is primarily in Chinese.</td>
                                            <td><strong>166 free trial credits</strong> upon signup.</td>
                                        </tr>
                                        <tr>
                                            <td>Nano Banana</td>
                                            <td>Conveniently integrated within Google products for a seamless workflow.</td>
                                            <td>Less direct control over specific artistic parameters compared to specialized tools.</td>
                                            <td><strong>Free</strong> to use within <a href="https://gemini.google.com/" target="_blank">Google Gemini</a> and <a href="https://aistudio.google.com/prompts/new_chat" target="_blank">Google AI Studio</a>.</td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                            <h4 class="mt-6"><i class="fas fa-lightbulb mr-2 text-sky-500"></i>Prompting Guides</h4>
                            <ul class="mt-2 space-y-2 list-['-_'] pl-4">
                                <li><a href="https://ai.google.dev/gemini-api/docs/image-generation#prompt-guide" target="_blank">Official Prompt Guide for Nano Banana (by Google)</a></li>
                                <li><a href="https://www.microsoft.com/en-us/microsoft-copilot/for-individuals/do-more-with-ai/ai-art-prompting-guide/image-prompting-101?form=MY02PE" target="_blank">Image Prompting 101 (by Microsoft Copilot)</a></li>
                                <li><a href="https://help.aliyun.com/document_detail/2712461.html" target="_blank">Text-to-Image Prompt Guide (by Alibaba Cloud)</a></li>
                            </ul>
                            <h4 class="mt-6"><i class="fas fa-exclamation-triangle mr-2 text-amber-500"></i>Challenge: Character Consistency & Efficiency</h4>
                            <ul class="mt-2 space-y-4">
                                <li>
                                    <strong class="text-slate-700">Solution A (Recommended): Bulk Generation</strong>
                                    <p class="text-sm text-slate-600 mt-1">This is the most effective method to solve both consistency and efficiency. By generating multiple images at once, you ensure the character's appearance remains the same across different scenes, which also saves significant time and cost.</p>
                                    <p class="text-sm text-slate-600 mt-1"><strong>Recommended Tools:</strong> **<a href="https://jimeng.jianying.com/ai-tool/login" target="_blank">Jimeng (即梦)</a>** and **<a href="https://www.doubao.com/" target="_blank">Doubao (豆包)</a>** are highly recommended as they excel at creating multiple consistent character images from a single prompt.</p>
                                </li>
                                <li>
                                    <strong class="text-slate-700">Solution B: Digital Human Replacement</strong>
                                    <p class="text-sm text-slate-600 mt-1">If your story is mainly driven by narration and doesn't require the main character to be visually present in every scene, you can use a digital human avatar as the narrator. This completely bypasses the character consistency problem.</p>
                                </li>
                                <li>
                                    <strong class="text-slate-700">General Efficiency Tip: Refine & Test</strong>
                                    <p class="text-sm text-slate-600 mt-1">Before generating in bulk, always refine your prompts to be as precise as possible. Test them with a small number of generations on different platforms to find the most cost-effective option and avoid wasting credits.</p>
                                </li>
                            </ul>
                        </div>

                        <h3 class="text-lg font-semibold my-6 text-slate-800">Exercise: Scene Prompt Writer</h3>
                        <p class="mb-4 text-slate-700">Create a detailed prompt for image generation by describing the scene, character, action, and camera movement. Then optimize it with AI assistance!</p>
                        
                        <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
                            <!-- Input Section -->
                            <div class="space-y-4">
                                <div>
                                    <label for="scene-input" class="block text-sm font-medium text-slate-700 mb-2">Scene Setting</label>
                                    <textarea id="scene-input" rows="2" class="w-full rounded-md border-slate-300 shadow-sm focus:border-teal-500 focus:ring-teal-500" placeholder="e.g., A mystical forest at twilight with glowing mushrooms"></textarea>
                                </div>
                                <div>
                                    <label for="character-input" class="block text-sm font-medium text-slate-700 mb-2">Character Description</label>
                                    <textarea id="character-input" rows="2" class="w-full rounded-md border-slate-300 shadow-sm focus:border-teal-500 focus:ring-teal-500" placeholder="e.g., A young wizard with flowing robes and a glowing staff"></textarea>
                                </div>
                                <div>
                                    <label for="action-input" class="block text-sm font-medium text-slate-700 mb-2">Action/Activity</label>
                                    <textarea id="action-input" rows="2" class="w-full rounded-md border-slate-300 shadow-sm focus:border-teal-500 focus:ring-teal-500" placeholder="e.g., Casting a spell that creates floating lights"></textarea>
                                </div>
                                <div>
                                    <label for="camera-input" class="block text-sm font-medium text-slate-700 mb-2">Camera Movement/Angle</label>
                                    <textarea id="camera-input" rows="2" class="w-full rounded-md border-slate-300 shadow-sm focus:border-teal-500 focus:ring-teal-500" placeholder="e.g., Wide shot, slowly zooming in, cinematic lighting"></textarea>
                                </div>
                                
                                <div class="flex gap-3 mt-4">
                                    <button id="generate-prompt-btn" class="flex-1 bg-teal-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-teal-700 transition duration-300">
                                        <i class="fas fa-magic mr-2"></i>Generate Prompt
                                    </button>
                                    <button id="optimize-prompt-btn" class="flex-1 bg-blue-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-blue-700 transition duration-300" disabled>
                                        <i class="fas fa-sparkles mr-2"></i>One-Click Optimize
                                    </button>
                                </div>
                            </div>

                            <!-- Output Section -->
                            <div class="space-y-4">
                                <div>
                                    <label class="block text-sm font-medium text-slate-700 mb-2">Generated Prompt</label>
                                    <div id="generated-prompt" class="w-full h-32 p-3 bg-slate-100 rounded-lg border font-mono text-sm text-slate-800 overflow-y-auto">
                                        Your generated prompt will appear here...
                                    </div>
                                </div>
                                
                                <div>
                                    <label class="block text-sm font-medium text-slate-700 mb-2">AI Optimization Suggestions</label>
                                    <div id="optimization-suggestions" class="w-full h-32 p-3 bg-blue-50 rounded-lg border overflow-y-auto">
                                        <div class="text-slate-500 text-sm">Click "One-Click Optimize" to get AI suggestions for improving your prompt...</div>
                                    </div>
                                </div>

                                <div>
                                    <label class="block text-sm font-medium text-slate-700 mb-2">AI Feedback & Tips</label>
                                    <div id="ai-feedback" class="w-full h-24 p-3 bg-green-50 rounded-lg border overflow-y-auto">
                                        <div class="text-slate-500 text-sm">Generate a prompt first to receive personalized feedback...</div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="text-center mt-6">
                            <div class="flex justify-center gap-4 mb-4">
                                <button id="copy-prompt-btn" class="bg-gray-600 text-white font-bold py-2 px-6 rounded-lg hover:bg-gray-700 transition duration-300" disabled>
                                    <i class="fas fa-copy mr-2"></i>Copy Final Prompt
                                </button>
                                <button id="reset-scene-btn" class="bg-gray-500 text-white font-bold py-2 px-6 rounded-lg hover:bg-gray-600 transition duration-300">
                                    <i class="fas fa-redo mr-2"></i>Reset Exercise
                                </button>
                            </div>
                            <div id="scene-feedback" class="feedback-message"></div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Phase 3: Image-to-Video (Animation) -->
            <div class="accordion-item bg-white rounded-xl shadow-md overflow-hidden">
                <button class="accordion-header w-full text-left p-6 flex justify-between items-center bg-indigo-100 hover:bg-indigo-200 transition duration-300">
                    <h2 class="text-xl font-semibold text-indigo-800"><i class="fas fa-film mr-3 text-indigo-600"></i>Phase 3: Image-to-Video (Animation)</h2>
                    <span class="text-2xl text-indigo-600 transform transition-transform duration-300">&#9662;</span>
                </button>
                <div class="accordion-content">
                    <div class="p-6 border-t border-slate-200">
                         <div class="info-box" style="border-color: #6366f1;">
                             <h4><i class="fas fa-tools mr-2"></i>Key Tools & Strategies</h4>
                             <ul>
                                 <li class="mt-2"><strong>Direct Image-to-Video:</strong> <a href="https://jimeng.jianying.com/ai-tool/login" target="_blank">Jimeng</a>, <a href="https://www.doubao.com/" target="_blank">Doubao</a>, <a href="https://app.klingai.com/global/" target="_blank">Kling</a>, <a href="https://hailuoai.video/?campaign=22982427541" target="_blank">Hailuo</a> (200 free credits), <a href="https://deepmind.google/technologies/veo/" target="_blank">Veo</a> (in Google Gemini).</li>
                                 <li class="mt-2"><strong>Conversational Generation & Editing:</strong> <a href="https://runwayml.com/" target="_blank">Runway</a> (Note: No free credits).</li>
                                  <li class="mt-2"><strong>Draw to Edit:</strong> <a href="https://higgsfield.ai/" target="_blank">Higgsfield</a> - An app that lets you edit videos by drawing.</li>
                                 <li class="mt-4"><strong>Recommendation:</strong> For the best cost-performance, starting with the free daily credits from **Jimeng** and **Doubao** is highly recommended.</li>
                             </ul>
                            <h4 class="mt-6"><i class="fas fa-lightbulb mr-2 text-sky-500"></i>Prompting Guides</h4>
                            <ul class="mt-2 space-y-2 list-['-_'] pl-4">
                                <li><a href="https://shengshu.feishu.cn/docx/Dtv8dbnUKo5glfxDoLXcEwzSnyd" target="_blank">Official Prompt Guide for Vidu (by ShengShu)</a></li>
                                <li><a href="https://help.runwayml.com/hc/en-us/articles/39789879462419-Gen-4-Video-Prompting-Guide" target="_blank">Video Prompting Guide (by Runway)</a></li>
                                <li><a href="https://jimeng.jianying.com/articles/100021" target="_blank">How to Write Good Prompts (by Jimeng)</a></li>
                            </ul>
                        </div>
                        
                        <h3 class="text-lg font-semibold my-6 text-slate-800">Exercise 1: Tool Selection Scenario</h3>
                        <div class="p-4 bg-slate-100 rounded-lg">
                            <p class="font-semibold">Scenario: You have a specific, detailed scene in mind. You want to describe not just the action, but also how the camera should move (e.g., "slowly pan right"). Which type of tool is best for this?</p>
                        </div>
                        <div id="tool-quiz-buttons" class="mt-4 grid grid-cols-1 sm:grid-cols-3 gap-4">
                            <button data-correct="false" class="tool-btn p-4 bg-white rounded-lg shadow hover:shadow-lg transition-shadow border-2 border-transparent">Direct Image-to-Video</button>
                            <button data-correct="true" class="tool-btn p-4 bg-white rounded-lg shadow hover:shadow-lg transition-shadow border-2 border-transparent">Conversational Generation & Editing</button>
                            <button data-correct="false" class="tool-btn p-4 bg-white rounded-lg shadow hover:shadow-lg transition-shadow border-2 border-transparent">Draw to Edit</button>
                        </div>
                        <div id="tool-feedback" class="feedback-message"></div>
                        <div class="mt-4 text-center">
                            <button id="reset-tool-btn" class="bg-gray-500 text-white font-bold py-2 px-6 rounded-lg hover:bg-gray-600 transition duration-300">Reset Exercise</button>
                        </div>
                        
                        <hr class="my-8">

                        <h3 class="text-lg font-semibold my-6 text-slate-800">Exercise 2: Video Prompt Deconstruction</h3>
                        <p class="mb-4 text-slate-700">Drag each part of the prompt to its correct category to understand how to build effective video commands.</p>
                        <div class="p-4 bg-slate-100 rounded-lg mb-4">
                            <p class="font-mono text-center text-sm md:text-base">"A majestic lion, roaring on a cliff at sunset, cinematic 4K, slow dolly zoom"</p>
                        </div>
                        <div class="flex flex-col md:flex-row gap-6">
                            <div id="prompt-parts" class="w-full md:w-1/3 space-y-3 bg-slate-100 p-4 rounded-lg min-h-[200px]"></div>
                            <div class="w-full md:w-2/3 grid grid-cols-2 gap-4">
                                <div class="p-2 rounded-lg bg-white">
                                    <p class="font-semibold text-center text-slate-700">Subject</p>
                                    <div id="drop-subject" class="drop-zone p-2 rounded mt-2" data-category="subject"></div>
                                </div>
                                <div class="p-2 rounded-lg bg-white">
                                    <p class="font-semibold text-center text-slate-700">Action</p>
                                    <div id="drop-action" class="drop-zone p-2 rounded mt-2" data-category="action"></div>
                                </div>
                                <div class="p-2 rounded-lg bg-white">
                                    <p class="font-semibold text-center text-slate-700">Style / Quality</p>
                                    <div id="drop-style" class="drop-zone p-2 rounded mt-2" data-category="style"></div>
                                </div>
                                <div class="p-2 rounded-lg bg-white">
                                    <p class="font-semibold text-center text-slate-700">Camera Movement</p>
                                    <div id="drop-camera" class="drop-zone p-2 rounded mt-2" data-category="camera"></div>
                                </div>
                            </div>
                        </div>
                        <div class="text-center mt-6">
                            <div class="flex justify-center gap-4 mb-4">
                                <button id="check-prompt-btn" class="bg-indigo-600 text-white font-bold py-2 px-6 rounded-lg hover:bg-indigo-700 transition duration-300">Check Prompt Structure</button>
                                <button id="reset-prompt-btn" class="bg-gray-500 text-white font-bold py-2 px-6 rounded-lg hover:bg-gray-600 transition duration-300">Reset Exercise</button>
                            </div>
                            <div id="prompt-feedback" class="feedback-message"></div>
                        </div>

                    </div>
                </div>
            </div>
            
            <!-- Phase 4: Audio Processing -->
            <div class="accordion-item bg-white rounded-xl shadow-md overflow-hidden">
                <button class="accordion-header w-full text-left p-6 flex justify-between items-center bg-amber-100 hover:bg-amber-200 transition duration-300">
                    <h2 class="text-xl font-semibold text-amber-800"><i class="fas fa-volume-up mr-3 text-amber-600"></i>Phase 4: Audio Processing</h2>
                    <span class="text-2xl text-amber-600 transform transition-transform duration-300">&#9662;</span>
                </button>
                <div class="accordion-content">
                    <div class="p-6 border-t border-slate-200">
                        <p class="mb-4 text-slate-700">Sound is the soul of a story. Different narration tones can completely change the atmosphere. Choose the most suitable tone for the scene below!</p>
                        
                        <div class="info-box" style="border-color: #f59e0b;">
                            <h4><i class="fas fa-tools mr-2"></i>Key Tools & Strategies</h4>
                             <ul>
                                <li class="mt-4"><strong>Digital Human / Avatar Generation:</strong>
                                    <ul class="list-['-_'] pl-4 mt-2 space-y-1">
                                        <li><a href="https://app.heygen.com/home" target="_blank">Heygen</a> - Offers <strong>5 free minutes</strong> for new users.</li>
                                        <li><a href="https://www.keevx.com/main/idea" target="_blank">Keevx</a> - Offers <strong>3 free minutes</strong> for new users.</li>
                                        <li><a href="https://www.chanying.com/" target="_blank">蝉镜 (Chanjing)</a> - Offers **60 free credits**. (Requires mainland China mobile number).</li>
                                        <li><a href="https://www.moyan.com/" target="_blank">有言 (Moyan)</a> - Offers **300 free credits**. (Requires mainland China mobile number).</li>
                                    </ul>
                                </li>
                                <li class="mt-4"><strong>Sound Effects / Music AI:</strong>
                                    <ul class="list-['-_'] pl-4 mt-2 space-y-1">
                                        <li><a href="https://suno.ai/" target="_blank">Suno</a> - A leading AI music generation tool.</li>
                                        <li><a href="https://mureka.ai/create" target="_blank">Mureka</a> - Offers **2 free credits** and more for inviting friends.</li>
                                    </ul>
                                </li>
                                <li class="mt-4"><strong>Text-to-Audio (Narration):</strong>
                                    <ul class="list-['-_'] pl-4 mt-2 space-y-1">
                                         <li><a href="https://ttsmaker.com/" target="_blank">TTSMaker</a> - A popular free text-to-speech tool.</li>
                                         <li><a href="https://www.capcut.com/tools/text-to-speech" target="_blank">CapCut Text-to-Speech</a> - Integrated tool within a powerful video editor.</li>
                                    </ul>
                                </li>
                            </ul>
                        </div>

                        <h3 class="text-lg font-semibold my-6 text-slate-800">Exercise: Scene Voice-Over</h3>
                        <div class="p-4 bg-slate-100 rounded-lg">
                            <p class="font-semibold">Scene: The protagonist discovers a dusty diary in an old castle late at night.</p>
                        </div>
                        <div id="audio-quiz-buttons" class="mt-4 grid grid-cols-1 sm:grid-cols-3 gap-4">
                            <button data-correct="false" class="audio-btn p-4 bg-white rounded-lg shadow hover:shadow-lg transition-shadow border-2 border-transparent">Energetic</button>
                            <button data-correct="true" class="audio-btn p-4 bg-white rounded-lg shadow hover:shadow-lg transition-shadow border-2 border-transparent">Suspenseful and mysterious</button>
                            <button data-correct="false" class="audio-btn p-4 bg-white rounded-lg shadow hover:shadow-lg transition-shadow border-2 border-transparent">Joyful and happy</button>
                        </div>
                        <div id="audio-feedback" class="feedback-message"></div>
                        <div class="mt-4 text-center">
                            <button id="reset-audio-btn" class="bg-gray-500 text-white font-bold py-2 px-6 rounded-lg hover:bg-gray-600 transition duration-300">Reset Exercise</button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Phase 5: Editing & Output -->
            <div class="accordion-item bg-white rounded-xl shadow-md overflow-hidden">
                <button class="accordion-header w-full text-left p-6 flex justify-between items-center bg-rose-100 hover:bg-rose-200 transition duration-300">
                    <h2 class="text-xl font-semibold text-rose-800"><i class="fas fa-cut mr-3 text-rose-600"></i>Phase 5: Editing & Output</h2>
                    <span class="text-2xl text-rose-600 transform transition-transform duration-300">&#9662;</span>
                </button>
                <div class="accordion-content">
                    <div class="p-6 border-t border-slate-200">
                        <p class="mb-4 text-slate-700">The final step is to assemble all the assets. The correct sequence and pacing are crucial. Please drag the story clips below into the correct order.</p>
                        
                         <div class="info-box" style="border-color: #e11d48;">
                            <h4 style="color: #be123c;"><i class="fas fa-tools mr-2"></i>Key Tools & Strategies</h4>
                            <ul>
                                <li><strong>Editing Software:</strong> Adobe Premiere Pro, DaVinci Resolve, CapCut.</li>
                                <li><strong>Strategy:</strong> Pay close attention to the editing rhythm and use natural transitions. Always do a final check to ensure picture and sound are perfectly synchronized.</li>
                           </ul>
                        </div>

                         <h3 class="text-lg font-semibold my-6 text-slate-800">Exercise: Story Sequencing Master</h3>
                        <div class="flex flex-col md:flex-row gap-6">
                            <div id="story-pieces" class="w-full md:w-1/3 space-y-3 bg-slate-100 p-4 rounded-lg min-h-[200px]"></div>
                            <div class="w-full md:w-2/3">
                                <div id="story-board" class="space-y-3 p-4 bg-white border-2 border-dashed border-slate-300 rounded-lg min-h-[200px]"></div>
                            </div>
                        </div>
                        <div class="text-center mt-6">
                                <div class="flex justify-center gap-4 mb-4">
                                    <button id="check-story-btn" class="bg-rose-600 text-white font-bold py-2 px-6 rounded-lg hover:bg-rose-700 transition duration-300">Check Order</button>
                                    <button id="reset-story-btn" class="bg-gray-500 text-white font-bold py-2 px-6 rounded-lg hover:bg-gray-600 transition duration-300">Reset Exercise</button>
                                </div>
                                <div id="story-feedback" class="feedback-message"></div>
                        </div>
                    </div>
                </div>
            </div>

        </div>
    </div>
</div>
</div>
</section>



<!-- Research & Engagement Platform Section -->
<section id="research" class="py-20 slate-bg">
<div class="container mx-auto px-6">
    <div class="text-center max-w-3xl mx-auto mb-16">
        <h2 class="text-3xl font-extrabold text-gray-900" data-lang-key="research_title">Research & Engagement Platform</h2>
        <p class="mt-4 text-base text-gray-600" data-lang-key="research_subtitle">Join our collaborative research initiative to advance AI-powered digital storytelling in education.</p>
    </div>
    
    <div class="grid md:grid-cols-2 gap-12 items-center">
        <div>
            <h3 class="text-xl font-bold text-gray-800 mb-6" data-lang-key="research_participate_title">Participate in Our Research</h3>
            <div class="space-y-4">
                <div class="flex items-start space-x-4">
                    <div class="w-8 h-8 bg-emerald-100 rounded-full flex items-center justify-center flex-shrink-0 mt-1">
                        <i class="fas fa-users text-emerald-600 text-sm"></i>
                    </div>
                    <div>
                        <h4 class="font-semibold text-gray-800" data-lang-key="research_feature1_title">Student Workshops</h4>
                        <p class="text-gray-600 text-sm" data-lang-key="research_feature1_desc">Participate in hands-on digital storytelling workshops and help shape the future of AI-assisted education.</p>
                    </div>
                </div>
                
                <div class="flex items-start space-x-4">
                    <div class="w-8 h-8 bg-cyan-100 rounded-full flex items-center justify-center flex-shrink-0 mt-1">
                        <i class="fas fa-chalkboard-teacher text-cyan-600 text-sm"></i>
                    </div>
                    <div>
                        <h4 class="font-semibold text-gray-800" data-lang-key="research_feature2_title">Teacher Training</h4>
                        <p class="text-gray-600 text-sm" data-lang-key="research_feature2_desc">Join professional development sessions to integrate AI digital storytelling into your curriculum.</p>
                    </div>
                </div>
                
                <div class="flex items-start space-x-4">
                    <div class="w-8 h-8 bg-indigo-100 rounded-full flex items-center justify-center flex-shrink-0 mt-1">
                        <i class="fas fa-chart-line text-indigo-600 text-sm"></i>
                    </div>
                    <div>
                        <h4 class="font-semibold text-gray-800" data-lang-key="research_feature3_title">Impact Studies</h4>
                        <p class="text-gray-600 text-sm" data-lang-key="research_feature3_desc">Contribute to research measuring the effectiveness of AI tools in enhancing creative and language learning.</p>
                    </div>
                </div>
            </div>
            
            <div class="mt-8">
                <a href="#research-form" id="contact-research-btn" class="bg-emerald-500 text-white font-bold px-6 py-3 rounded-lg hover:bg-emerald-600 transition-colors inline-flex items-center" data-lang-key="research_contact_btn">
                    <i class="fas fa-envelope mr-2"></i>
                    Contact Research Team
                </a>
            </div>
        </div>
        
        <div id="research-design-container" class="bg-white rounded-2xl shadow-xl p-8" style="display: none;">
            <!-- Research Design Illustration -->
            <div class="mb-8 text-center">
                <img src="final Gen-DST Research Desgin.png" alt="Research Design and Process Flow" class="mx-auto rounded-lg shadow-lg max-w-full h-auto">
                <p class="mt-3 text-sm text-gray-600">Our comprehensive research design illustrating the experimental process and methodology</p>
            </div>
            
            <h4 id="research-form" class="text-lg font-bold text-gray-800 mb-6" data-lang-key="research_form_title">Join Our Research Community</h4>
            <form class="space-y-4">
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-2" data-lang-key="research_form_name">Name</label>
                    <input type="text" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500" data-lang-key="research_form_name_placeholder" placeholder="Your full name">
                </div>
                
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-2" data-lang-key="research_form_email">Email</label>
                    <input type="email" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500" data-lang-key="research_form_email_placeholder" placeholder="your.email@example.com">
                </div>
                
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-2" data-lang-key="research_form_role">Role</label>
                    <select class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500">
                        <option data-lang-key="research_form_role_student">Student</option>
                        <option data-lang-key="research_form_role_teacher">Teacher</option>
                        <option data-lang-key="research_form_role_researcher">Researcher</option>
                        <option data-lang-key="research_form_role_parent">Parent</option>
                        <option data-lang-key="research_form_role_other">Other</option>
                    </select>
                </div>
                
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-2" data-lang-key="research_form_interest">Areas of Interest</label>
                    <div class="space-y-2">
                        <label class="flex items-center">
                            <input type="checkbox" class="rounded border-gray-300 text-emerald-600 focus:ring-emerald-500">
                            <span class="ml-2 text-sm text-gray-700" data-lang-key="research_form_interest_workshops">Student Workshops</span>
                        </label>
                        <label class="flex items-center">
                            <input type="checkbox" class="rounded border-gray-300 text-emerald-600 focus:ring-emerald-500">
                            <span class="ml-2 text-sm text-gray-700" data-lang-key="research_form_interest_training">Teacher Training</span>
                        </label>
                        <label class="flex items-center">
                            <input type="checkbox" class="rounded border-gray-300 text-emerald-600 focus:ring-emerald-500">
                            <span class="ml-2 text-sm text-gray-700" data-lang-key="research_form_interest_research">Research Participation</span>
                        </label>
                    </div>
                </div>
                
                <button type="submit" class="w-full bg-emerald-500 text-white font-bold py-3 rounded-lg hover:bg-emerald-600 transition-colors" data-lang-key="research_form_submit">
                    Join Research Community
                </button>
            </form>
        </div>
    </div>
</div>
</section>

<!-- Learning Community Section -->
<section id="community" class="py-20 clean-bg">
<div class="container mx-auto px-6">
    <div class="text-center max-w-3xl mx-auto mb-16">
        <h2 class="text-3xl font-extrabold text-gray-900" data-lang-key="community_title">Learning Community</h2>
        <p class="mt-4 text-base text-gray-600" data-lang-key="community_subtitle">Connect with fellow educators, students, and researchers in our vibrant learning community.</p>
    </div>
    
    <div class="grid md:grid-cols-3 gap-8">
        <div class="feature-card blue-glow">
            <div>
                <div class="w-16 h-16 bg-blue-100 rounded-xl flex items-center justify-center mb-6">
                    <i class="fas fa-comments text-2xl text-blue-600"></i>
                </div>
                <h3 class="text-lg font-bold text-gray-800 mt-6" data-lang-key="community_card1_title">Discussion Forums</h3>
                <p class="text-gray-600 mt-3" data-lang-key="community_card1_desc">Share experiences, ask questions, and collaborate with other digital storytelling enthusiasts.</p>
            </div>
            <div class="mt-6">
                <a href="#forums" class="text-blue-600 font-semibold hover:text-blue-700 transition-colors" data-lang-key="community_card1_link">
                    Join Discussions <i class="fas fa-arrow-right ml-2"></i>
                </a>
            </div>
        </div>
        
        <div class="feature-card emerald-glow">
            <div>
                <div class="w-16 h-16 bg-emerald-100 rounded-xl flex items-center justify-center mb-6">
                    <i class="fas fa-trophy text-2xl text-emerald-600"></i>
                </div>
                <h3 class="text-lg font-bold text-gray-800 mt-6" data-lang-key="community_card2_title">Showcase Gallery</h3>
                <p class="text-gray-600 mt-3" data-lang-key="community_card2_desc">Display your digital stories and get inspired by creative works from the community.</p>
            </div>
            <div class="mt-6">
                <a href="#gallery" class="text-emerald-600 font-semibold hover:text-emerald-700 transition-colors" data-lang-key="community_card2_link">
                    View Gallery <i class="fas fa-arrow-right ml-2"></i>
                </a>
            </div>
        </div>
        
        <div class="feature-card indigo-glow">
            <div>
                <div class="w-16 h-16 bg-indigo-100 rounded-xl flex items-center justify-center mb-6">
                    <i class="fas fa-calendar-alt text-2xl text-indigo-600"></i>
                </div>
                <h3 class="text-lg font-bold text-gray-800 mt-6" data-lang-key="community_card3_title">Events & Workshops</h3>
                <p class="text-gray-600 mt-3" data-lang-key="community_card3_desc">Participate in regular workshops, webinars, and community events to enhance your skills.</p>
            </div>
            <div class="mt-6">
                <a href="#events" class="text-indigo-600 font-semibold hover:text-indigo-700 transition-colors" data-lang-key="community_card3_link">
                    View Events <i class="fas fa-arrow-right ml-2"></i>
                </a>
            </div>
        </div>
    </div>
</div>
</section>

<!-- Discussion Forums Section -->
<section id="forums" class="py-20 clean-bg">
<div class="container mx-auto px-6">
    <div class="text-center max-w-3xl mx-auto mb-16">
        <h2 class="text-3xl font-extrabold text-gray-900" data-lang-key="forums_title">Discussion Forums</h2>
        <p class="mt-4 text-base text-gray-600" data-lang-key="forums_subtitle">Connect with educators, students, and researchers to share experiences and collaborate.</p>
    </div>
    
    <div class="grid md:grid-cols-2 gap-8">
        <div class="bg-white rounded-lg p-6 shadow-lg">
            <h3 class="text-xl font-bold text-gray-800 mb-4">General Discussion</h3>
            <p class="text-gray-600 mb-4">Share your digital storytelling experiences and get advice from the community.</p>
            <div class="flex items-center justify-between">
                <span class="text-sm text-gray-500">245 topics • 1.2k posts</span>
                <button class="bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors">Join Discussion</button>
            </div>
        </div>
        
        <div class="bg-white rounded-lg p-6 shadow-lg">
            <h3 class="text-xl font-bold text-gray-800 mb-4">Technical Support</h3>
            <p class="text-gray-600 mb-4">Get help with AI tools, software issues, and technical questions.</p>
            <div class="flex items-center justify-between">
                <span class="text-sm text-gray-500">89 topics • 456 posts</span>
                <button class="bg-emerald-600 text-white px-4 py-2 rounded-lg hover:bg-emerald-700 transition-colors">Get Help</button>
            </div>
        </div>
    </div>
</div>
</section>

<!-- Showcase Gallery Section -->
<section id="gallery" class="py-20 slate-bg">
<div class="container mx-auto px-6">
    <div class="text-center max-w-3xl mx-auto mb-16">
        <h2 class="text-3xl font-extrabold text-gray-900" data-lang-key="gallery_title">Showcase Gallery</h2>
        <p class="mt-4 text-base text-gray-600" data-lang-key="gallery_subtitle">Discover inspiring digital stories created by our community members.</p>
    </div>
    
    <div class="grid md:grid-cols-3 gap-8">
        <div class="bg-white rounded-lg overflow-hidden shadow-lg">
            <div class="h-48 bg-gradient-to-br from-blue-400 to-purple-500"></div>
            <div class="p-6">
                <h3 class="text-lg font-bold text-gray-800 mb-2">The Future of Learning</h3>
                <p class="text-gray-600 text-sm mb-4">A student's vision of AI-enhanced education</p>
                <div class="flex items-center justify-between">
                    <span class="text-xs text-gray-500">by Sarah Chen</span>
                    <button class="text-blue-600 hover:text-blue-700 font-semibold">View Story</button>
                </div>
            </div>
        </div>
        
        <div class="bg-white rounded-lg overflow-hidden shadow-lg">
            <div class="h-48 bg-gradient-to-br from-green-400 to-blue-500"></div>
            <div class="p-6">
                <h3 class="text-lg font-bold text-gray-800 mb-2">Climate Heroes</h3>
                <p class="text-gray-600 text-sm mb-4">Environmental awareness through storytelling</p>
                <div class="flex items-center justify-between">
                    <span class="text-xs text-gray-500">by Class 6B</span>
                    <button class="text-emerald-600 hover:text-emerald-700 font-semibold">View Story</button>
                </div>
            </div>
        </div>
        
        <div class="bg-white rounded-lg overflow-hidden shadow-lg">
            <div class="h-48 bg-gradient-to-br from-purple-400 to-pink-500"></div>
            <div class="p-6">
                <h3 class="text-lg font-bold text-gray-800 mb-2">Cultural Heritage</h3>
                <p class="text-gray-600 text-sm mb-4">Preserving traditions through digital narratives</p>
                <div class="flex items-center justify-between">
                    <span class="text-xs text-gray-500">by Maria Rodriguez</span>
                    <button class="text-purple-600 hover:text-purple-700 font-semibold">View Story</button>
                </div>
            </div>
        </div>
    </div>
</div>
</section>

<!-- Events & Workshops Section -->
<section id="events" class="py-20 clean-bg">
<div class="container mx-auto px-6">
    <div class="text-center max-w-3xl mx-auto mb-16">
        <h2 class="text-3xl font-extrabold text-gray-900" data-lang-key="events_title">Events & Workshops</h2>
        <p class="mt-4 text-base text-gray-600" data-lang-key="events_subtitle">Join our regular workshops, webinars, and community events to enhance your skills.</p>
    </div>
    
    <div class="space-y-6">
        <div class="bg-white rounded-lg p-6 shadow-lg border-l-4 border-blue-500">
            <div class="flex items-start justify-between">
                <div>
                    <h3 class="text-xl font-bold text-gray-800 mb-2">AI Storytelling Workshop</h3>
                    <p class="text-gray-600 mb-4">Learn advanced techniques for creating compelling narratives with AI assistance.</p>
                    <div class="flex items-center space-x-4 text-sm text-gray-500">
                        <span><i class="fas fa-calendar mr-2"></i>Pending</span>
                                <span><i class="fas fa-clock mr-2"></i>Pending</span>
                        <span><i class="fas fa-users mr-2"></i>25 spots available</span>
                    </div>
                </div>
                <button class="bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700 transition-colors">Register</button>
            </div>
        </div>
        
        <div class="bg-white rounded-lg p-6 shadow-lg border-l-4 border-emerald-500">
            <div class="flex items-start justify-between">
                <div>
                    <h3 class="text-xl font-bold text-gray-800 mb-2">Teacher Training Webinar</h3>
                    <p class="text-gray-600 mb-4">Professional development session for educators implementing AI digital storytelling.</p>
                    <div class="flex items-center space-x-4 text-sm text-gray-500">
                        <span><i class="fas fa-calendar mr-2"></i>Pending</span>
                                <span><i class="fas fa-clock mr-2"></i>Pending</span>
                        <span><i class="fas fa-users mr-2"></i>50 spots available</span>
                    </div>
                </div>
                <button class="bg-emerald-600 text-white px-6 py-2 rounded-lg hover:bg-emerald-700 transition-colors">Register</button>
            </div>
        </div>
        
        <div class="bg-white rounded-lg p-6 shadow-lg border-l-4 border-purple-500">
            <div class="flex items-start justify-between">
                <div>
                    <h3 class="text-xl font-bold text-gray-800 mb-2">Community Showcase Event</h3>
                    <p class="text-gray-600 mb-4">Present your digital stories and celebrate creative achievements with the community.</p>
                    <div class="flex items-center space-x-4 text-sm text-gray-500">
                        <span><i class="fas fa-calendar mr-2"></i>Pending</span>
                                <span><i class="fas fa-clock mr-2"></i>Pending</span>
                        <span><i class="fas fa-users mr-2"></i>100 spots available</span>
                    </div>
                </div>
                <button class="bg-purple-600 text-white px-6 py-2 rounded-lg hover:bg-purple-700 transition-colors">Register</button>
            </div>
        </div>
    </div>
</div>
</section>

<!-- Contact Section -->
<section id="contact" class="py-20 slate-bg">
<div class="container mx-auto px-6">
    <div class="text-center max-w-3xl mx-auto">
        <h2 class="text-3xl font-extrabold text-gray-900" data-lang-key="contact_title">Get in Touch</h2>
        <p class="mt-4 text-base text-gray-600" data-lang-key="contact_subtitle">Have questions or want to collaborate? We'd love to hear from you.</p>
        
        <div class="mt-12 grid md:grid-cols-3 gap-8">
            <div class="text-center">
                <div class="w-16 h-16 bg-emerald-100 rounded-xl flex items-center justify-center mx-auto mb-4">
                    <i class="fas fa-envelope text-2xl text-emerald-600"></i>
                </div>
                <h4 class="font-bold text-gray-800" data-lang-key="contact_email_title">Email Us</h4>
                <p class="text-gray-600 mt-2">baohuayu@cityu.edu.hk</p>
            </div>
            
            <div class="text-center">
                <div class="w-16 h-16 bg-cyan-100 rounded-xl flex items-center justify-center mx-auto mb-4">
                    <i class="fas fa-university text-2xl text-cyan-600"></i>
                </div>
                <h4 class="font-bold text-gray-800" data-lang-key="contact_institution_title">Institution</h4>
                <p class="text-gray-600 mt-2" data-lang-key="contact_institution_name">University Research Center</p>
            </div>
            
            <div class="text-center">
                <div class="w-16 h-16 bg-indigo-100 rounded-xl flex items-center justify-center mx-auto mb-4">
                    <i class="fas fa-globe text-2xl text-indigo-600"></i>
                </div>
                <h4 class="font-bold text-gray-800" data-lang-key="contact_location_title">Location</h4>
                <p class="text-gray-600 mt-2" data-lang-key="contact_location_name">Hong Kong & International</p>
            </div>
        </div>
    </div>
</div>
</section>
</main>

<!-- Multimodal Prompt Assistant Modal -->
<div id="multimodal-modal" class="fixed inset-0 bg-black bg-opacity-50 hidden z-50 flex items-center justify-center p-4">
<div class="bg-white rounded-2xl max-w-4xl w-full max-h-[90vh] overflow-y-auto">
    <div class="p-6 border-b border-gray-200">
        <div class="flex justify-between items-center">
            <h3 class="text-xl font-bold text-gray-800">Multimodal Prompt Assistant</h3>
            <button id="close-modal" class="text-gray-500 hover:text-gray-700">
                <i class="fas fa-times text-xl"></i>
            </button>
        </div>
        <p class="text-gray-600 mt-2">Generate optimized prompts for different AI content creation tools</p>
    </div>
    
    <div class="p-6">
        <!-- Content Type Selection -->
        <div class="mb-6">
            <h4 class="font-semibold text-gray-800 mb-3">Select Content Type:</h4>
            <div class="flex flex-wrap gap-2">
                <button class="content-type-btn active" data-type="image">
                    <i class="fas fa-image"></i> Image
                </button>
                <button class="content-type-btn" data-type="video">
                    <i class="fas fa-video"></i> Video
                </button>
                <button class="content-type-btn" data-type="audio">
                    <i class="fas fa-music"></i> Audio
                </button>
                <button class="content-type-btn" data-type="text">
                    <i class="fas fa-file-text"></i> Text
                </button>
            </div>
        </div>
        
        <!-- Prompt Building Interface -->
        <div class="grid md:grid-cols-2 gap-6">
            <div>
                <h4 class="font-semibold text-gray-800 mb-3">Build Your Prompt:</h4>
                
                <!-- Image Prompt Builder -->
                <div id="image-builder" class="prompt-builder">
                    <div class="space-y-4">
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">Subject/Main Element:</label>
                            <input type="text" id="image-subject" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500" placeholder="e.g., a magical forest, young wizard, ancient castle">
                        </div>
                        
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">Art Style:</label>
                            <div class="grid grid-cols-2 gap-2">
                                <button class="multimodal-btn" data-value="digital art">Digital Art</button>
                                <button class="multimodal-btn" data-value="watercolor">Watercolor</button>
                                <button class="multimodal-btn" data-value="oil painting">Oil Painting</button>
                                <button class="multimodal-btn" data-value="anime style">Anime Style</button>
                                <button class="multimodal-btn" data-value="photorealistic">Photorealistic</button>
                                <button class="multimodal-btn" data-value="cartoon">Cartoon</button>
                            </div>
                        </div>
                        
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">Mood/Atmosphere:</label>
                            <div class="grid grid-cols-2 gap-2">
                                <button class="multimodal-btn" data-value="warm and inviting">Warm & Inviting</button>
                                <button class="multimodal-btn" data-value="mysterious">Mysterious</button>
                                <button class="multimodal-btn" data-value="epic and dramatic">Epic & Dramatic</button>
                                <button class="multimodal-btn" data-value="peaceful">Peaceful</button>
                                <button class="multimodal-btn" data-value="dark and moody">Dark & Moody</button>
                                <button class="multimodal-btn" data-value="bright and cheerful">Bright & Cheerful</button>
                            </div>
                        </div>
                        
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">Quality/Technical:</label>
                            <div class="grid grid-cols-2 gap-2">
                                <button class="multimodal-btn" data-value="4K resolution">4K Resolution</button>
                                <button class="multimodal-btn" data-value="highly detailed">Highly Detailed</button>
                                <button class="multimodal-btn" data-value="professional lighting">Professional Lighting</button>
                                <button class="multimodal-btn" data-value="cinematic composition">Cinematic Composition</button>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Video Prompt Builder -->
                <div id="video-builder" class="prompt-builder hidden">
                    <div class="space-y-4">
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">Scene Description:</label>
                            <input type="text" id="video-scene" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500" placeholder="e.g., dragon flying over mountains, character walking through forest">
                        </div>
                        
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">Camera Movement:</label>
                            <div class="grid grid-cols-2 gap-2">
                                <button class="multimodal-btn" data-value="camera panning left">Pan Left</button>
                                <button class="multimodal-btn" data-value="camera panning right">Pan Right</button>
                                <button class="multimodal-btn" data-value="zoom in">Zoom In</button>
                                <button class="multimodal-btn" data-value="zoom out">Zoom Out</button>
                                <button class="multimodal-btn" data-value="static shot">Static Shot</button>
                                <button class="multimodal-btn" data-value="tracking shot">Tracking Shot</button>
                            </div>
                        </div>
                        
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">Motion Type:</label>
                            <div class="grid grid-cols-2 gap-2">
                                <button class="multimodal-btn" data-value="slow motion">Slow Motion</button>
                                <button class="multimodal-btn" data-value="normal speed">Normal Speed</button>
                                <button class="multimodal-btn" data-value="fast motion">Fast Motion</button>
                                <button class="multimodal-btn" data-value="time lapse">Time Lapse</button>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Audio Prompt Builder -->
                <div id="audio-builder" class="prompt-builder hidden">
                    <div class="space-y-4">
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">Audio Type:</label>
                            <div class="grid grid-cols-2 gap-2">
                                <button class="multimodal-btn" data-value="background music">Background Music</button>
                                <button class="multimodal-btn" data-value="sound effects">Sound Effects</button>
                                <button class="multimodal-btn" data-value="voice narration">Voice Narration</button>
                                <button class="multimodal-btn" data-value="ambient sounds">Ambient Sounds</button>
                            </div>
                        </div>
                        
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">Mood/Genre:</label>
                            <div class="grid grid-cols-2 gap-2">
                                <button class="multimodal-btn" data-value="epic orchestral">Epic Orchestral</button>
                                <button class="multimodal-btn" data-value="peaceful ambient">Peaceful Ambient</button>
                                <button class="multimodal-btn" data-value="mysterious">Mysterious</button>
                                <button class="multimodal-btn" data-value="upbeat electronic">Upbeat Electronic</button>
                                <button class="multimodal-btn" data-value="folk acoustic">Folk Acoustic</button>
                                <button class="multimodal-btn" data-value="cinematic">Cinematic</button>
                            </div>
                        </div>
                        
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">Duration:</label>
                            <div class="grid grid-cols-3 gap-2">
                                <button class="multimodal-btn" data-value="30 seconds">30 seconds</button>
                                <button class="multimodal-btn" data-value="1 minute">1 minute</button>
                                <button class="multimodal-btn" data-value="2 minutes">2 minutes</button>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Text Prompt Builder -->
                <div id="text-builder" class="prompt-builder hidden">
                    <div class="space-y-4">
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">Content Type:</label>
                            <div class="grid grid-cols-2 gap-2">
                                <button class="multimodal-btn" data-value="story">Story</button>
                                <button class="multimodal-btn" data-value="dialogue">Dialogue</button>
                                <button class="multimodal-btn" data-value="description">Description</button>
                                <button class="multimodal-btn" data-value="script">Script</button>
                            </div>
                        </div>
                        
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">Tone:</label>
                            <div class="grid grid-cols-2 gap-2">
                                <button class="multimodal-btn" data-value="formal">Formal</button>
                                <button class="multimodal-btn" data-value="casual">Casual</button>
                                <button class="multimodal-btn" data-value="humorous">Humorous</button>
                                <button class="multimodal-btn" data-value="dramatic">Dramatic</button>
                                <button class="multimodal-btn" data-value="educational">Educational</button>
                                <button class="multimodal-btn" data-value="inspirational">Inspirational</button>
                            </div>
                        </div>
                        
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">Length:</label>
                            <div class="grid grid-cols-3 gap-2">
                                <button class="multimodal-btn" data-value="short">Short</button>
                                <button class="multimodal-btn" data-value="medium">Medium</button>
                                <button class="multimodal-btn" data-value="long">Long</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <div>
                <h4 class="font-semibold text-gray-800 mb-3">Generated Prompt:</h4>
                <div id="prompt-output" class="bg-gray-100 rounded-lg p-4 min-h-[200px] border border-gray-300">
                    <p class="text-gray-500 italic">Your generated prompt will appear here...</p>
                </div>
                
                <div class="mt-4 flex gap-2">
                    <button id="generate-prompt-btn-alt" class="bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors flex-1">
                        Generate Prompt
                    </button>
                    <button id="copy-prompt-btn-alt" class="bg-gray-600 text-white px-4 py-2 rounded-lg hover:bg-gray-700 transition-colors">
                        <i class="fas fa-copy"></i>
                    </button>
                </div>
                
                <!-- Feedback Section -->
                <div id="feedback-area" class="mt-6 hidden">
                    <h5 class="font-semibold text-gray-800 mb-2">Prompt Feedback:</h5>
                    <div class="bg-blue-50 rounded-lg p-3 border border-blue-200">
                        <p class="text-blue-800 text-sm">Great prompt! This should work well with most AI tools. Consider adding more specific details if needed.</p>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
</div>

<!-- Footer -->
<footer class="bg-gray-900 text-white py-12">
<div class="container mx-auto px-6">
    <div class="grid md:grid-cols-4 gap-8">
        <div>
            <h4 class="text-lg font-bold mb-4" data-lang-key="footer_project_title">GenAI-DST Project</h4>
            <p class="text-gray-400 text-sm" data-lang-key="footer_project_desc">Empowering English language education through AI-powered digital storytelling.</p>
        </div>
        
        <div>
            <h4 class="text-lg font-bold mb-4" data-lang-key="footer_links_title">Quick Links</h4>
            <ul class="space-y-2 text-sm">
                <li><a href="#home" class="text-gray-400 hover:text-white transition-colors" data-lang-key="footer_link_home">Home</a></li>
                <li><a href="#hub" class="text-gray-400 hover:text-white transition-colors" data-lang-key="footer_link_hub">Learning Hub</a></li>
                <li><a href="#research" class="text-gray-400 hover:text-white transition-colors" data-lang-key="footer_link_research">Research</a></li>
                <li><a href="#community" class="text-gray-400 hover:text-white transition-colors" data-lang-key="footer_link_community">Community</a></li>
            </ul>
        </div>
        
        <div>
            <h4 class="text-lg font-bold mb-4" data-lang-key="footer_resources_title">Resources</h4>
            <ul class="space-y-2 text-sm">
                <li><a href="#interactive-guide" class="text-gray-400 hover:text-white transition-colors" data-lang-key="footer_resource_guide">Interactive Guide</a></li>
                <li><a href="#ai-companion" class="text-gray-400 hover:text-white transition-colors" data-lang-key="footer_resource_ai">AI Companion</a></li>
            </ul>
        </div>
        
        <div>
            <h4 class="text-lg font-bold mb-4" data-lang-key="footer_contact_title">Contact</h4>
            <ul class="space-y-2 text-sm text-gray-400">
                <li data-lang-key="footer_contact_email">Email: baohuayu@cityu.edu.hk</li>
                <li data-lang-key="footer_contact_location">Location: Hong Kong & International</li>
            </ul>
        </div>
    </div>
    
    <div class="border-t border-gray-800 mt-8 pt-8 text-center">
        <p class="text-gray-400 text-sm" data-lang-key="footer_copyright">&copy; 2024 GenAI-DST Project. All rights reserved.</p>
    </div>
</div>
</footer>

<script>
// Language switching functionality
const translations = {
    'en': {
        'nav_home': 'Home',
        'nav_hub': 'Learning Hub',
        'nav_research': 'Research',
        'nav_community': 'Community',
        'nav_contact': 'Contact',
        'hero_title': 'GenAI-DST: AI-Powered Digital Storytelling for English Education',
        'hero_subtitle': 'Empowering educators and students with cutting-edge AI tools to create engaging digital stories that enhance English language learning.',
        'hero_cta_primary': 'Start Learning',
        'hero_cta_secondary': 'Watch Demo',
        'features_title': 'Transform Learning with AI',
        'features_subtitle': 'Discover how our platform revolutionizes English education through interactive digital storytelling.',
        'feature1_title': 'Interactive Learning Hub',
        'feature1_desc': 'Step-by-step guides and hands-on exercises to master AI-powered digital storytelling techniques.',
        'feature2_title': 'AI Companion Assistant',
        'feature2_desc': 'Get personalized guidance and instant feedback as you create your digital stories.',
        'feature3_title': 'Comprehensive Tool Library',
        'feature3_desc': 'Access curated AI tools for text, image, video, and audio content creation.',
        'hub_title': 'Interactive Learning Hub',
        'hub_subtitle': 'Master the art of AI-powered digital storytelling through our comprehensive, hands-on learning experience.',
        'research_title': 'Research & Engagement Platform',
        'research_subtitle': 'Join our collaborative research initiative to advance AI-powered digital storytelling in education.',
        'community_title': 'Learning Community',
        'community_subtitle': 'Connect with fellow educators, students, and researchers in our vibrant learning community.',
        'contact_title': 'Get in Touch',
        'contact_subtitle': 'Have questions or want to collaborate? We\'d love to hear from you.',
        'footer_copyright': '© 2024 GenAI-DST Project. All rights reserved.'
    },
    'zh': {
        'nav_home': '首页',
        'nav_hub': '学习中心',
        'nav_research': '研究',
        'nav_community': '社区',
        'nav_contact': '联系我们',
        'hero_title': 'GenAI-DST：AI驱动的英语教育数字故事创作',
        'hero_subtitle': '为教育工作者和学生提供前沿AI工具，创作引人入胜的数字故事，提升英语学习效果。',
        'hero_cta_primary': '开始学习',
        'hero_cta_secondary': '观看演示',
        'features_title': '用AI改变学习',
        'features_subtitle': '探索我们的平台如何通过互动数字故事创作革新英语教育。',
        'feature1_title': '互动学习中心',
        'feature1_desc': '通过分步指南和实践练习掌握AI驱动的数字故事创作技巧。',
        'feature2_title': 'AI助手伴侣',
        'feature2_desc': '在创作数字故事时获得个性化指导和即时反馈。',
        'feature3_title': '综合工具库',
        'feature3_desc': '访问精选的AI工具，用于文本、图像、视频和音频内容创作。',
        'hub_title': '互动学习中心',
        'hub_subtitle': '通过我们全面的实践学习体验，掌握AI驱动的数字故事创作艺术。',
        'research_title': '研究与参与平台',
        'research_subtitle': '加入我们的协作研究计划，推进AI驱动的教育数字故事创作。',
        'community_title': '学习社区',
        'community_subtitle': '在我们充满活力的学习社区中与教育工作者、学生和研究人员建立联系。',
        'contact_title': '联系我们',
        'contact_subtitle': '有问题或想要合作？我们很乐意听到您的声音。',
        'footer_copyright': '© 2024 GenAI-DST项目。保留所有权利。'
    }
};



// Smooth scrolling for navigation links
document.querySelectorAll('a[href^="#"]').forEach(anchor => {
    anchor.addEventListener('click', function (e) {
        e.preventDefault();
        const target = document.querySelector(this.getAttribute('href'));
        if (target) {
            target.scrollIntoView({
                behavior: 'smooth',
                block: 'start'
            });
        }
    });
});

// Mobile menu toggle
const mobileMenuBtn = document.getElementById('mobile-menu-btn');
const mobileMenu = document.getElementById('mobile-menu');

if (mobileMenuBtn && mobileMenu) {
    mobileMenuBtn.addEventListener('click', () => {
        mobileMenu.classList.toggle('hidden');
    });
}

// Accordion functionality
function initAccordion() {
    const accordionHeaders = document.querySelectorAll('.accordion-header');
    accordionHeaders.forEach(header => {
        header.addEventListener('click', function() {
            const accordionItem = this.closest('.accordion-item');
            const isActive = accordionItem.classList.contains('active');
            
            // Close all accordion items
            document.querySelectorAll('.accordion-item').forEach(item => {
                item.classList.remove('active');
                const icon = item.querySelector('.accordion-header span');
                if (icon) {
                    icon.textContent = '+';
                }
            });
            
            // If this item wasn't active, open it
            if (!isActive) {
                accordionItem.classList.add('active');
                const icon = this.querySelector('span');
                if (icon) {
                    icon.textContent = '−';
                }
            }
        });
    });
}

// Initialize accordion when DOM is loaded
document.addEventListener('DOMContentLoaded', function() {
    initAccordion();
    
    // Handle Contact Research Team button click to show research design
    const contactBtn = document.getElementById('contact-research-btn');
    const researchContainer = document.getElementById('research-design-container');
    
    if (contactBtn && researchContainer) {
        contactBtn.addEventListener('click', function(e) {
            e.preventDefault();
            researchContainer.style.display = 'block';
            // Smooth scroll to the research design container
            researchContainer.scrollIntoView({ behavior: 'smooth' });
        });
    }
    
    // Initialize Story Elements Drag and Drop Exercise
    initStoryElementsExercise();
    
    // Initialize Phase 1 Tool Matching Game
    toolMatchingGame.init();
    
    // Initialize Phase 2-5 exercises
    initPromptBuilder();
    initPhase3Exercises();
    initPhase4Exercise();
    initPhase5Exercise();
    
    // Reset functionality for all exercises
    // Reset elements exercise (Phase 1)
    const resetElementsBtn = document.getElementById('reset-elements-btn');
    if (resetElementsBtn) {
        resetElementsBtn.addEventListener('click', function() {
            console.log('Reset elements button clicked!'); // Debug log
            // Clear all drop zones
            document.querySelectorAll('#descriptions .drop-zone').forEach(zone => {
                zone.innerHTML = '';
                zone.classList.remove('correct', 'incorrect');
            });
            
            // Reset feedback
            const feedback = document.getElementById('elements-feedback');
            if (feedback) {
                feedback.innerHTML = '';
                feedback.classList.remove('correct', 'incorrect');
            }
            
            // Hide correct answers container
            const correctAnswersContainer = document.getElementById('correct-answers-container');
            if (correctAnswersContainer) {
                correctAnswersContainer.classList.add('hidden');
            }
            
            // Regenerate draggable elements
            initStoryElementsExercise();
        });
    }
    
    // Reset prompt exercise (Phase 3)
    const resetPromptBtn = document.getElementById('reset-prompt-btn');
    if (resetPromptBtn) {
        resetPromptBtn.addEventListener('click', function() {
            console.log('Reset prompt button clicked!'); // Debug log
            // Clear all drop zones
            document.querySelectorAll('#prompt-parts .drop-zone').forEach(zone => {
                zone.innerHTML = '';
                zone.classList.remove('correct', 'incorrect');
            });
            
            // Reset feedback
            const feedback = document.getElementById('prompt-feedback');
            if (feedback) {
                feedback.innerHTML = '';
                feedback.classList.remove('correct', 'incorrect');
            }
            
            // Regenerate draggable prompt parts for Phase 3
            initPhase3Exercises();
        });
    }
    
    // Reset story exercise (Phase 5)
    const resetStoryBtn = document.getElementById('reset-story-btn');
    if (resetStoryBtn) {
        resetStoryBtn.addEventListener('click', function() {
            console.log('Reset story button clicked!'); // Debug log
            // Clear story board
            const storyBoard = document.getElementById('story-board');
            if (storyBoard) {
                storyBoard.innerHTML = '';
            }
            
            // Reset feedback
            const feedback = document.getElementById('story-feedback');
            if (feedback) {
                feedback.innerHTML = '';
                feedback.classList.remove('correct', 'incorrect');
            }
            
            // Regenerate story pieces
            initPhase5Exercise();
        });
    }
    
    // Reset audio exercise (Phase 4)
    const resetAudioBtn = document.getElementById('reset-audio-btn');
    if (resetAudioBtn) {
        resetAudioBtn.addEventListener('click', function() {
            console.log('Reset audio button clicked!'); // Debug log
            // Reset all audio buttons
            document.querySelectorAll('.audio-btn').forEach(btn => {
                btn.classList.remove('correct', 'incorrect');
                btn.style.backgroundColor = '';
                btn.style.borderColor = '';
            });
            
            // Reset feedback
            const feedback = document.getElementById('audio-feedback');
            if (feedback) {
                feedback.innerHTML = '';
                feedback.classList.remove('correct', 'incorrect');
            }
        });
    }
    
    // Reset tool exercise (Phase 3 - Exercise 1)
    const resetToolBtn = document.getElementById('reset-tool-btn');
    if (resetToolBtn) {
        resetToolBtn.addEventListener('click', function() {
            console.log('Reset tool button clicked!'); // Debug log
            // Reset all tool buttons
            document.querySelectorAll('.tool-btn').forEach(btn => {
                btn.classList.remove('correct', 'incorrect');
                btn.style.backgroundColor = '';
                btn.style.borderColor = '';
            });
            
            // Reset feedback
            const feedback = document.getElementById('tool-feedback');
            if (feedback) {
                feedback.innerHTML = '';
                feedback.classList.remove('correct', 'incorrect');
            }
        });
    }
});

// Global data for story elements
const elementsData = [
    { id: 'e1', name: 'Point of View', desc: 'The core viewpoint and the author\'s perspective' },
    { id: 'e2', name: 'A Dramatic Question', desc: 'A central question that grabs the audience\'s attention' },
    { id: 'e3', name: 'Emotional Content', desc: 'Personalized content that allows the audience to connect emotionally' },
    { id: 'e4', name: 'The Gift of Your Voice', desc: 'Helps the audience understand the story through personalized narration' },
    { id: 'e5', name: 'The Power of the Soundtrack', desc: 'Using music or sound effects to embellish and support the story' },
    { id: 'e6', name: 'Economy', desc: 'Telling a good story with minimal elements to avoid information overload' },
    { id: 'e7', name: 'Pacing', desc: 'Controlling the story\'s rhythm and its speed of progression' },
];

// Story Elements Drag and Drop Exercise
function initStoryElementsExercise() {

    const elementsContainer = document.getElementById('elements');
    const descriptionsContainer = document.getElementById('descriptions');
    
    if (!elementsContainer || !descriptionsContainer) return;
    
    // Clear containers to avoid duplicates
    elementsContainer.innerHTML = '';
    descriptionsContainer.innerHTML = '';
    
    // Shuffle elements for randomization
    const shuffledElements = [...elementsData].sort(() => Math.random() - 0.5);

    // Create draggable elements
    shuffledElements.forEach(item => {
        const el = document.createElement('div');
        el.id = item.id;
        el.textContent = item.name;
        el.className = 'draggable bg-white p-3 rounded-lg shadow cursor-move border border-gray-200 hover:shadow-md transition-all duration-200';
        el.draggable = true;
        elementsContainer.appendChild(el);
    });

    // Create drop zones with descriptions
    elementsData.forEach(item => {
        const desc = document.createElement('div');
        desc.className = 'drop-zone flex items-center p-3 rounded-lg bg-slate-100 border-2 border-dashed border-slate-300 min-h-[60px] transition-all duration-200';
        desc.dataset.correctId = item.id;
        const p = document.createElement('p');
        p.textContent = `Description: ${item.desc}`;
        p.className = 'flex-grow text-slate-600 text-sm';
        desc.appendChild(p);
        descriptionsContainer.appendChild(desc);
    });
    
    // Drag and drop functionality
    let draggedItem = null;
    
    document.querySelectorAll('.draggable').forEach(item => {
        item.addEventListener('dragstart', e => {
            draggedItem = e.target;
            setTimeout(() => e.target.style.opacity = '0.5', 0);
        });
        
        item.addEventListener('dragend', e => {
            setTimeout(() => {
                if(draggedItem) {
                    draggedItem.style.opacity = '1';
                    draggedItem = null;
                }
            }, 0);
        });
    });

    document.querySelectorAll('.drop-zone').forEach(zone => {
        zone.addEventListener('dragover', e => {
            e.preventDefault();
            zone.classList.add('drag-over');
        });
        
        zone.addEventListener('dragleave', e => {
            zone.classList.remove('drag-over');
        });
        
        zone.addEventListener('drop', e => {
            e.preventDefault();
            zone.classList.remove('drag-over');
            
            if (draggedItem && !zone.querySelector('.draggable')) {
                const existingItem = zone.querySelector('.draggable');
                if(existingItem) {
                    elementsContainer.appendChild(existingItem);
                }
                zone.prepend(draggedItem);
            }
        });
    });

    // Check answers functionality
    const checkBtn = document.getElementById('check-elements-btn');
    if (checkBtn) {
        checkBtn.addEventListener('click', () => {
            console.log('Check button clicked!'); // Debug log
            let correctCount = 0;
            // Only check drop zones within the descriptions container (Phase 1 exercise)
            const dropZones = document.querySelectorAll('#descriptions .drop-zone');
            console.log('Drop zones found:', dropZones.length); // Debug log
            
            // If we have drop zones, use the original logic
            if (dropZones.length > 0) {
                dropZones.forEach((zone, index) => {
                    const droppedEl = zone.querySelector('.draggable');
                    const correctId = zone.dataset.correctId;
                    const droppedId = droppedEl ? droppedEl.id : null;
                    console.log(`Zone ${index}: correctId=${correctId}, droppedId=${droppedId}`); // Debug log
                    
                    if (droppedEl && droppedEl.id === zone.dataset.correctId) {
                        zone.classList.add('correct');
                        zone.classList.remove('incorrect');
                        correctCount++;
                    } else if (droppedEl) {
                        zone.classList.add('incorrect');
                        zone.classList.remove('correct');
                    } else {
                        zone.classList.remove('correct', 'incorrect');
                    }
                });
            } else {
                // Alternative logic for simple container structure
                // For now, just show a basic feedback message
                correctCount = elementsData.length; // Assume all correct for demo
            }
            
            console.log('Correct count:', correctCount, 'Total:', elementsData.length); // Debug log
            
            const feedbackEl = document.getElementById('elements-feedback');
            console.log('Feedback element found:', !!feedbackEl); // Debug log
            if (feedbackEl) {
                if (correctCount === elementsData.length) {
                    feedbackEl.textContent = `Excellent! All correct! You've mastered the core of storytelling.`;
                    feedbackEl.className = 'feedback-message feedback-correct';
                } else {
                    feedbackEl.textContent = `You've matched ${correctCount} / ${elementsData.length}. Try again to deepen your understanding!`;
                    feedbackEl.className = 'feedback-message feedback-incorrect';
                }
                console.log('Feedback updated:', feedbackEl.textContent); // Debug log
            }

            // Show correct answers
            const correctAnswersContainer = document.getElementById('correct-answers-container');
            const correctAnswersList = document.getElementById('correct-answers-list');
            if (correctAnswersContainer && correctAnswersList) {
                correctAnswersList.innerHTML = '';
                const sortedElementsData = [...elementsData].sort((a, b) => a.name.localeCompare(b.name));
                sortedElementsData.forEach(item => {
                    const answerDiv = document.createElement('div');
                    answerDiv.className = 'p-2 bg-green-50 border border-green-200 rounded-md flex items-center';
                    answerDiv.innerHTML = `<strong class="text-green-800 mr-2">${item.name}:</strong> <span class="text-slate-600">${item.desc}</span>`;
                    correctAnswersList.appendChild(answerDiv);
                });
                correctAnswersContainer.classList.remove('hidden');
            }
        });
    }
}

// Phase 2: Prompt Builder functionality
function initPromptBuilder() {
    console.log('Initializing Phase 2 Prompt Builder...'); // Debug log
    const promptSelectors = ['subject', 'action', 'style'];
    const generatedPromptEl = document.getElementById('generated-prompt');
    const promptImageEl = document.getElementById('prompt-image');
    
    console.log('Prompt elements found:', {
        generatedPrompt: !!generatedPromptEl,
        promptImage: !!promptImageEl
    }); // Debug log
    
    if (!generatedPromptEl || !promptImageEl) {
        console.log('Missing required elements for prompt builder'); // Debug log
        return;
    }
    
    const imageMap = {
        "An astronaut, reading a book in a lost city, Pixar animation style": "https://image.pollinations.ai/prompt/A%20Pixar%20animation%20style%20movie%20still%20of%20an%20astronaut%20reading%20an%20ancient%20book%20in%20a%20beautiful%20lost%20city",
        "A robot, surfing in space, Cyberpunk style": "https://image.pollinations.ai/prompt/A%20cyberpunk%20style%20robot%20with%20neon%20lights%20surfing%20on%20a%20cosmic%20wave%20in%20outer%20space,%20galaxies%20in%20the%20background",
        "A wizard, brewing coffee in a forest, Watercolor painting style": "https://image.pollinations.ai/prompt/A%20watercolor%20painting%20of%20a%20wise%20old%20wizard%20with%20a%20long%20beard%20brewing%20coffee%20in%20an%20enchanted,%20magical%20forest",
    };

    function updatePrompt() {
        console.log('Updating prompt...'); // Debug log
        const parts = promptSelectors.map(id => {
            const element = document.getElementById(id);
            const value = element ? element.value : '';
            console.log(`${id}: ${value}`); // Debug log
            return value;
        }).filter(part => part);
        
        const promptText = parts.join(', ');
        console.log('Generated prompt:', promptText); // Debug log
        generatedPromptEl.textContent = promptText;
        
        const imageUrl = imageMap[promptText] || `https://placehold.co/400x300/94a3b8/ffffff?text=Image+is+loading...`;
        console.log('Image URL:', imageUrl); // Debug log
        promptImageEl.src = imageUrl;
    }
    
    promptSelectors.forEach(id => {
        const element = document.getElementById(id);
        if (element) {
            console.log(`Adding event listener to ${id}`); // Debug log
            element.addEventListener('change', updatePrompt);
        } else {
            console.log(`Element ${id} not found`); // Debug log
        }
    });
    updatePrompt();
}

// Phase 3: Tool Selection and Prompt Deconstruction
function initPhase3Exercises() {
    console.log('Initializing Phase 3 exercises...'); // Debug log
    
    // Exercise 1: Tool Selection
    const toolButtons = document.querySelectorAll('.tool-btn');
    console.log('Tool buttons found:', toolButtons.length); // Debug log
    
    toolButtons.forEach(button => {
        button.addEventListener('click', () => {
            console.log('Tool button clicked:', button.textContent, 'Correct:', button.dataset.correct); // Debug log
            const isCorrect = button.dataset.correct === 'true';
            const feedbackEl = document.getElementById('tool-feedback');
            
            if (!feedbackEl) {
                console.log('Tool feedback element not found'); // Debug log
                return;
            }
            
            document.querySelectorAll('.tool-btn').forEach(btn => btn.classList.remove('correct', 'incorrect'));

            if (isCorrect) {
                button.classList.add('correct');
                feedbackEl.textContent = 'Correct! Conversational tools like Runway offer the most precise control over camera movements.';
                feedbackEl.className = 'feedback-message feedback-correct';
                console.log('Correct answer selected'); // Debug log
            } else {
                button.classList.add('incorrect');
                feedbackEl.textContent = 'Not quite. While other tools create video, conversational tools give you the most control over camera direction.';
                feedbackEl.className = 'feedback-message feedback-incorrect';
                console.log('Incorrect answer selected'); // Debug log
            }
        });
    });

    // Exercise 2: Prompt Deconstruction
    const promptData = [
        { id: 'p1', text: 'A majestic lion', category: 'subject' },
        { id: 'p2', text: 'roaring on a cliff at sunset', category: 'action' },
        { id: 'p3', text: 'cinematic 4K', category: 'style' },
        { id: 'p4', text: 'slow dolly zoom', category: 'camera' },
    ];
    
    const promptPartsContainer = document.getElementById('prompt-parts');
    if (promptPartsContainer) {
        // Shuffle and create draggable elements
        const shuffledData = [...promptData].sort(() => Math.random() - 0.5);
        promptPartsContainer.innerHTML = '';
        
        shuffledData.forEach(item => {
            const part = document.createElement('div');
            part.id = item.id;
            part.dataset.category = item.category;
            part.textContent = item.text;
            part.className = 'draggable bg-white p-3 rounded-lg shadow cursor-move border border-gray-200 hover:shadow-md transition-all duration-200';
            part.draggable = true;
            promptPartsContainer.appendChild(part);
        });

        let draggedItem = null;

        // Add drag functionality
        document.querySelectorAll('#prompt-parts .draggable').forEach(item => {
            item.addEventListener('dragstart', e => {
                draggedItem = e.target;
                setTimeout(() => e.target.style.opacity = '0.5', 0);
            });
            item.addEventListener('dragend', e => {
                setTimeout(() => {
                    if(draggedItem) {
                        draggedItem.style.opacity = '1';
                        draggedItem = null;
                    }
                }, 0);
            });
        });

        document.querySelectorAll('.drop-zone').forEach(zone => {
            zone.addEventListener('dragover', e => {
                e.preventDefault();
                zone.classList.add('drag-over');
            });
            zone.addEventListener('dragleave', e => {
                zone.classList.remove('drag-over');
            });
            zone.addEventListener('drop', e => {
                e.preventDefault();
                zone.classList.remove('drag-over');
                if (draggedItem && !zone.querySelector('.draggable')) {
                    const existingItem = zone.querySelector('.draggable');
                    if(existingItem) {
                        promptPartsContainer.appendChild(existingItem);
                    }
                    zone.appendChild(draggedItem);
                }
            });
        });

        promptPartsContainer.addEventListener('dragover', e => e.preventDefault());
        promptPartsContainer.addEventListener('drop', e => {
            e.preventDefault();
            if(draggedItem) {
                promptPartsContainer.appendChild(draggedItem);
            }
        });

        const checkPromptBtn = document.getElementById('check-prompt-btn');
        console.log('Check prompt button found:', !!checkPromptBtn); // Debug log
        if (checkPromptBtn) {
            checkPromptBtn.addEventListener('click', () => {
                console.log('Check prompt button clicked'); // Debug log
                let correctCount = 0;
                const dropZones = document.querySelectorAll('.drop-zone');
                console.log('Drop zones found for prompt exercise:', dropZones.length); // Debug log
                
                dropZones.forEach((zone, index) => {
                    const droppedEl = zone.querySelector('.draggable');
                    const zoneCategory = zone.dataset.category;
                    const droppedCategory = droppedEl ? droppedEl.dataset.category : null;
                    console.log(`Zone ${index}: category=${zoneCategory}, dropped=${droppedCategory}`); // Debug log
                    
                    zone.classList.remove('correct', 'incorrect');
                    if (droppedEl && droppedEl.dataset.category === zone.dataset.category) {
                        zone.classList.add('correct');
                        correctCount++;
                    } else if (droppedEl) {
                        zone.classList.add('incorrect');
                    }
                });
                
                console.log('Prompt exercise correct count:', correctCount); // Debug log
                
                const feedbackEl = document.getElementById('prompt-feedback');
                if (feedbackEl) {
                    if (correctCount === 4) {
                        feedbackEl.textContent = `Perfect! You correctly deconstructed the prompt.`;
                        feedbackEl.className = 'feedback-message feedback-correct';
                    } else {
                        feedbackEl.textContent = `You've got ${correctCount} out of 4 correct. Try dragging the misplaced parts to the right category!`;
                        feedbackEl.className = 'feedback-message feedback-incorrect';
                    }
                    console.log('Prompt feedback updated:', feedbackEl.textContent); // Debug log
                } else {
                    console.log('Prompt feedback element not found'); // Debug log
                }
            });
        }
    }
}

// Phase 4: Audio Quiz
function initPhase4Exercise() {
    const audioButtons = document.querySelectorAll('.audio-btn');
    console.log('Phase 4 audio buttons found:', audioButtons.length); // Debug log
    
    audioButtons.forEach((button, index) => {
        console.log(`Audio button ${index}: correct=${button.dataset.correct}`); // Debug log
        button.addEventListener('click', () => {
            console.log(`Audio button ${index} clicked`); // Debug log
            const isCorrect = button.dataset.correct === 'true';
            const feedbackEl = document.getElementById('audio-feedback');
            
            console.log('Audio feedback element found:', !!feedbackEl); // Debug log
            if (!feedbackEl) return;
            
            document.querySelectorAll('.audio-btn').forEach(btn => btn.classList.remove('correct', 'incorrect'));

            if (isCorrect) {
                button.classList.add('correct');
                feedbackEl.textContent = 'Excellent! This tone perfectly creates a mysterious and tense atmosphere.';
                feedbackEl.className = 'feedback-message feedback-correct';
                console.log('Audio feedback: correct answer selected'); // Debug log
            } else {
                button.classList.add('incorrect');
                feedbackEl.textContent = 'This tone doesn\'t seem quite right. Think again, what should the mood be for a discovery in an old castle at night?';
                feedbackEl.className = 'feedback-message feedback-incorrect';
                console.log('Audio feedback: incorrect answer selected'); // Debug log
            }
        });
    });
}

// Phase 5: Story Sequencing
function initPhase5Exercise() {
    const storyData = [
        { id: 's1', order: 1, text: 'An explorer stumbles upon an ancient, mysterious map.' },
        { id: 's2', order: 2, text: 'The map leads her through a jungle filled with strange sounds.' },
        { id: 's3', order: 3, text: 'She discovers a hidden cave behind a roaring waterfall.' },
        { id: 's4', order: 4, text: 'Inside, a legendary treasure glimmers in the darkness.' },
    ];
    
    const piecesContainer = document.getElementById('story-pieces');
    const storyBoard = document.getElementById('story-board');
    
    if (!piecesContainer || !storyBoard) return;
    
    // Shuffle and create draggable story pieces
    const shuffledData = [...storyData].sort(() => Math.random() - 0.5);
    piecesContainer.innerHTML = '';
    
    shuffledData.forEach(item => {
        const piece = document.createElement('div');
        piece.id = item.id;
        piece.dataset.order = item.order;
        piece.textContent = item.text;
        piece.className = 'draggable bg-white p-3 rounded-lg shadow cursor-move border border-gray-200 hover:shadow-md transition-all duration-200';
        piece.draggable = true;
        piecesContainer.appendChild(piece);
    });
    
    let draggedItem = null;
    
    // Add drag functionality
    function addDragListeners() {
        document.querySelectorAll('#story-pieces .draggable, #story-board .draggable').forEach(item => {
            item.addEventListener('dragstart', e => {
                draggedItem = e.target;
                setTimeout(() => e.target.style.opacity = '0.5', 0);
            });
            item.addEventListener('dragend', e => {
                setTimeout(() => {
                    if(draggedItem) {
                        draggedItem.style.opacity = '1';
                        draggedItem = null;
                    }
                }, 0);
            });
        });
    }
    
    addDragListeners();
    
    [storyBoard, piecesContainer].forEach(container => {
        container.addEventListener('dragover', e => {
            e.preventDefault();
            container.classList.add('drag-over');
        });
        container.addEventListener('dragleave', e => {
            container.classList.remove('drag-over');
        });
        container.addEventListener('drop', e => {
            e.preventDefault();
            container.classList.remove('drag-over');
            if (draggedItem) {
                container.appendChild(draggedItem);
                addDragListeners(); // Re-add listeners after moving elements
            }
        });
    });

    const checkStoryBtn = document.getElementById('check-story-btn');
    console.log('Phase 5 check story button found:', !!checkStoryBtn); // Debug log
    if (checkStoryBtn) {
        checkStoryBtn.addEventListener('click', () => {
            console.log('Check story button clicked'); // Debug log
            const items = storyBoard.querySelectorAll('.draggable');
            console.log('Story items in board:', items.length); // Debug log
            let isCorrectOrder = true;
            
            if (items.length !== storyData.length) {
                isCorrectOrder = false;
                console.log(`Incorrect length: ${items.length} vs ${storyData.length}`); // Debug log
            } else {
                for (let i = 0; i < items.length; i++) {
                    const expectedOrder = i + 1;
                    const actualOrder = parseInt(items[i].dataset.order);
                    console.log(`Position ${i}: expected=${expectedOrder}, actual=${actualOrder}`); // Debug log
                    if (actualOrder !== expectedOrder) {
                        isCorrectOrder = false;
                        break;
                    }
                }
            }
            
            console.log('Story order is correct:', isCorrectOrder); // Debug log
            
            const feedbackEl = document.getElementById('story-feedback');
            console.log('Story feedback element found:', !!feedbackEl); // Debug log
            if (feedbackEl) {
                if (isCorrectOrder) {
                    feedbackEl.textContent = 'The order is perfect! You have a director\'s talent!';
                    feedbackEl.className = 'feedback-message feedback-correct';
                } else {
                    feedbackEl.textContent = 'The sequence isn\'t quite right. A good story needs a logical flow. Try again!';
                    feedbackEl.className = 'feedback-message feedback-incorrect';
                }
                console.log('Story feedback updated:', feedbackEl.textContent); // Debug log
            }
        });
    }
}
 
 // Multimodal Prompt Assistant functionality
const multimodalModal = document.getElementById('multimodal-modal');
const openModalBtn = document.getElementById('open-multimodal-btn');
const closeModalBtn = document.getElementById('close-modal');

if (openModalBtn && multimodalModal) {
    openModalBtn.addEventListener('click', () => {
        multimodalModal.classList.remove('hidden');
    });
}

if (closeModalBtn && multimodalModal) {
    closeModalBtn.addEventListener('click', () => {
        multimodalModal.classList.add('hidden');
    });
}

// Content type switching in modal
const contentTypeBtns = document.querySelectorAll('.content-type-btn');
const promptBuilders = document.querySelectorAll('.prompt-builder');

contentTypeBtns.forEach(btn => {
    btn.addEventListener('click', () => {
        // Remove active class from all buttons
        contentTypeBtns.forEach(b => b.classList.remove('active'));
        // Add active class to clicked button
        btn.classList.add('active');
        
        // Hide all prompt builders
        promptBuilders.forEach(builder => builder.classList.add('hidden'));
        // Show selected prompt builder
        const type = btn.getAttribute('data-type');
        const targetBuilder = document.getElementById(`${type}-builder`);
        if (targetBuilder) {
            targetBuilder.classList.remove('hidden');
        }
    });
});

// Multimodal button selection
let selectedValues = {
    image: {},
    video: {},
    audio: {},
    text: {}
};

document.querySelectorAll('.multimodal-btn').forEach(btn => {
    btn.addEventListener('click', () => {
        const value = btn.getAttribute('data-value');
        const category = btn.closest('.prompt-builder').id.replace('-builder', '');
        const group = btn.parentElement.previousElementSibling.textContent.trim();
        
        // Toggle selection
        btn.classList.toggle('selected');
        
        if (btn.classList.contains('selected')) {
            if (!selectedValues[category][group]) {
                selectedValues[category][group] = [];
            }
            selectedValues[category][group].push(value);
        } else {
            if (selectedValues[category][group]) {
                selectedValues[category][group] = selectedValues[category][group].filter(v => v !== value);
            }
        }
    });
});

// Generate prompt functionality
const generatePromptBtn = document.getElementById('generate-prompt-btn');
const promptOutput = document.getElementById('prompt-output');
const copyPromptBtn = document.getElementById('copy-prompt-btn');

if (generatePromptBtn) {
    generatePromptBtn.addEventListener('click', () => {
        const activeType = document.querySelector('.content-type-btn.active').getAttribute('data-type');
        let prompt = '';
        
        if (activeType === 'image') {
            const subject = document.getElementById('image-subject').value;
            prompt = generateImagePrompt(subject, selectedValues.image);
        } else if (activeType === 'video') {
            const scene = document.getElementById('video-scene').value;
            prompt = generateVideoPrompt(scene, selectedValues.video);
        } else if (activeType === 'audio') {
            prompt = generateAudioPrompt(selectedValues.audio);
        } else if (activeType === 'text') {
            prompt = generateTextPrompt(selectedValues.text);
        }
        
        promptOutput.innerHTML = `<p class="text-gray-800">${prompt}</p>`;
        
        // Show feedback
        const feedbackArea = document.getElementById('feedback-area');
        if (feedbackArea) {
            feedbackArea.classList.remove('hidden');
        }
    });
}

function generateImagePrompt(subject, values) {
    let prompt = subject || 'a beautiful scene';
    
    if (values['Art Style:'] && values['Art Style:'].length > 0) {
        prompt += `, ${values['Art Style:'].join(', ')}`;
    }
    
    if (values['Mood/Atmosphere:'] && values['Mood/Atmosphere:'].length > 0) {
        prompt += `, ${values['Mood/Atmosphere:'].join(', ')}`;
    }
    
    if (values['Quality/Technical:'] && values['Quality/Technical:'].length > 0) {
        prompt += `, ${values['Quality/Technical:'].join(', ')}`;
    }
    
    return prompt;
}

function generateVideoPrompt(scene, values) {
    let prompt = scene || 'a cinematic scene';
    
    if (values['Camera Movement:'] && values['Camera Movement:'].length > 0) {
        prompt += `, ${values['Camera Movement:'].join(', ')}`;
    }
    
    if (values['Motion Type:'] && values['Motion Type:'].length > 0) {
        prompt += `, ${values['Motion Type:'].join(', ')}`;
    }
    
    return prompt;
}

function generateAudioPrompt(values) {
    let prompt = 'Create ';
    
    if (values['Audio Type:'] && values['Audio Type:'].length > 0) {
        prompt += values['Audio Type:'].join(' and ');
    } else {
        prompt += 'audio content';
    }
    
    if (values['Mood/Genre:'] && values['Mood/Genre:'].length > 0) {
        prompt += ` with ${values['Mood/Genre:'].join(' and ')} style`;
    }
    
    if (values['Duration:'] && values['Duration:'].length > 0) {
        prompt += `, duration: ${values['Duration:'].join(' or ')}`;
    }
    
    return prompt;
}

function generateTextPrompt(values) {
    let prompt = 'Write ';
    
    if (values['Content Type:'] && values['Content Type:'].length > 0) {
        prompt += `a ${values['Content Type:'].join(' and ')}`;
    } else {
        prompt += 'content';
    }
    
    if (values['Tone:'] && values['Tone:'].length > 0) {
        prompt += ` in a ${values['Tone:'].join(' and ')} tone`;
    }
    
    if (values['Length:'] && values['Length:'].length > 0) {
        prompt += `, ${values['Length:'].join(' to ')} length`;
    }
    
    return prompt;
}

// Copy prompt functionality
if (copyPromptBtn) {
    copyPromptBtn.addEventListener('click', () => {
        const promptText = promptOutput.textContent;
        navigator.clipboard.writeText(promptText).then(() => {
            // Show success feedback
            copyPromptBtn.innerHTML = '<i class="fas fa-check"></i>';
            setTimeout(() => {
                copyPromptBtn.innerHTML = '<i class="fas fa-copy"></i>';
            }, 2000);
        });
    });
}

// Drag and drop functionality for exercises
let draggedElement = null;

document.addEventListener('DOMContentLoaded', function() {
    // Make elements draggable
    document.querySelectorAll('.draggable').forEach(element => {
        element.draggable = true;
        
        element.addEventListener('dragstart', function(e) {
            draggedElement = this;
            this.style.opacity = '0.5';
        });
        
        element.addEventListener('dragend', function(e) {
            this.style.opacity = '';
            draggedElement = null;
        });
    });
    
    // Make drop zones accept drops
    document.querySelectorAll('.drop-zone').forEach(zone => {
        zone.addEventListener('dragover', function(e) {
            e.preventDefault();
            this.style.backgroundColor = '#f0f9ff';
        });
        
        zone.addEventListener('dragleave', function(e) {
            this.style.backgroundColor = '';
        });
        
        zone.addEventListener('drop', function(e) {
            e.preventDefault();
            this.style.backgroundColor = '';
            
            if (draggedElement) {
                // Check if it's the correct category
                const draggedCategory = draggedElement.getAttribute('data-component') || draggedElement.getAttribute('data-voice');
                const dropCategory = this.getAttribute('data-category') || this.getAttribute('data-scene');
                
                // Clone the dragged element
                const clone = draggedElement.cloneNode(true);
                clone.classList.remove('cursor-move');
                clone.classList.add('cursor-default');
                clone.draggable = false;
                
                // Clear the drop zone and add the element
                this.innerHTML = '';
                this.appendChild(clone);
            }
        });
    });
    
    // Reset exercise button
    const resetBtn = document.getElementById('reset-exercise-btn');
    if (resetBtn) {
        resetBtn.addEventListener('click', function() {
            document.querySelectorAll('.drop-zone').forEach(zone => {
                zone.innerHTML = '';
            });
        });
    }
    
    // Check audio matches button
    const checkAudioBtn = document.getElementById('check-audio-matches-btn');
    if (checkAudioBtn) {
        checkAudioBtn.addEventListener('click', function() {
            const feedback = document.getElementById('audio-feedback');
            if (feedback) {
                feedback.classList.remove('hidden');
            }
        });
    }
});

// Intersection Observer for animations
const observerOptions = {
    threshold: 0.1,
    rootMargin: '0px 0px -50px 0px'
};

const observer = new IntersectionObserver((entries) => {
    entries.forEach(entry => {
        if (entry.isIntersecting) {
            entry.target.style.opacity = '1';
            entry.target.style.transform = 'translateY(0)';
        }
    });
}, observerOptions);

// Observe elements for animation
document.querySelectorAll('.feature-card, .phase-card').forEach(el => {
    el.style.opacity = '0';
    el.style.transform = 'translateY(20px)';
    el.style.transition = 'opacity 0.6s ease, transform 0.6s ease';
    observer.observe(el);
});

    // Phase 1: AI Tool Matching Game
    const toolMatchingGame = {
        scenarios: [
            { id: 'quick-brainstorm', text: 'Quick brainstorming for a comedy short film script', tool: 'chatgpt' },
            { id: 'chinese-culture', text: 'Creating a script about traditional Chinese festivals', tool: 'chinese-ai' },
            { id: 'technical-script', text: 'Writing a structured script with precise formatting', tool: 'deepseek' },
            { id: 'full-automation', text: 'Complete hands-off script generation with minimal input', tool: 'agents' },
            { id: 'prompt-refine', text: 'Improving and optimizing existing script ideas', tool: 'optimizers' }
        ],
        
        userMatches: {},
        
        init() {
            this.setupDragAndDrop();
            this.setupButtons();
        },
        
        setupDragAndDrop() {
            // Make scenarios draggable
            document.querySelectorAll('.scenario-card').forEach(item => {
                item.draggable = true;
                item.addEventListener('dragstart', (e) => {
                    e.dataTransfer.setData('text/plain', item.dataset.scenario);
                    item.classList.add('opacity-50');
                });
                
                item.addEventListener('dragend', (e) => {
                    item.classList.remove('opacity-50');
                });
            });
            
            // Make tool zones droppable
            document.querySelectorAll('.tool-category').forEach(zone => {
                zone.addEventListener('dragover', (e) => {
                    e.preventDefault();
                    zone.classList.add('bg-blue-50', 'border-blue-400');
                });
                
                zone.addEventListener('dragleave', (e) => {
                    zone.classList.remove('bg-blue-50', 'border-blue-400');
                });
                
                zone.addEventListener('drop', (e) => {
                    e.preventDefault();
                    const scenarioId = e.dataTransfer.getData('text/plain');
                    const toolId = zone.dataset.tool;
                    
                    this.addMatch(scenarioId, toolId, zone);
                    zone.classList.remove('bg-blue-50', 'border-blue-400');
                });
            });
        },
        
        addMatch(scenarioId, toolId, zone) {
            this.userMatches[scenarioId] = toolId;
            
            // Find the drop zone within this tool category
            const dropZone = zone.querySelector('.drop-zone-scenarios');
            
            // Create matched item display
            const matchedItem = document.createElement('div');
            matchedItem.className = 'bg-blue-100 p-2 rounded border text-sm mb-2 flex justify-between items-center';
            matchedItem.innerHTML = `
                <span class="text-xs">${this.scenarios.find(s => s.id === scenarioId).text}</span>
                <button class="ml-2 text-red-500 hover:text-red-700 font-bold" onclick="toolMatchingGame.removeMatch('${scenarioId}', this.parentElement)">×</button>
            `;
            
            dropZone.appendChild(matchedItem);
            
            // Hide the original scenario
            document.querySelector(`[data-scenario="${scenarioId}"]`).style.display = 'none';
        },
        
        removeMatch(scenarioId, element) {
            delete this.userMatches[scenarioId];
            element.remove();
            document.querySelector(`[data-scenario="${scenarioId}"]`).style.display = 'block';
        },
        
        checkMatches() {
            let correct = 0;
            let total = this.scenarios.length;
            
            this.scenarios.forEach(scenario => {
                const userChoice = this.userMatches[scenario.id];
                if (userChoice === scenario.tool) {
                    correct++;
                }
            });
            
            const feedback = document.getElementById('matching-feedback');
            if (correct === total) {
                feedback.innerHTML = `<div class="text-green-600 font-semibold">🎉 Perfect! You matched all scenarios correctly!</div>`;
            } else {
                feedback.innerHTML = `<div class="text-blue-600">You got ${correct} out of ${total} correct. Try again!</div>`;
            }
        },
        
        reset() {
            this.userMatches = {};
            
            // Clear all drop zones
            document.querySelectorAll('.drop-zone-scenarios').forEach(zone => {
                zone.innerHTML = '';
            });
            
            // Show all scenarios
            document.querySelectorAll('.scenario-card').forEach(item => {
                item.style.display = 'block';
            });
            
            // Clear feedback
            document.getElementById('matching-feedback').innerHTML = '';
        },
        
        setupButtons() {
            document.getElementById('check-matching-btn')?.addEventListener('click', () => {
                toolMatchingGame.checkMatches();
            });
            
            document.getElementById('reset-matching-btn')?.addEventListener('click', () => {
                toolMatchingGame.reset();
            });
        }
    };

    // Phase 2: Scene Prompt Writer
    const scenePromptWriter = {
        init() {
            this.setupButtons();
        },
        
        generatePrompt() {
            const scene = document.getElementById('scene-input').value.trim();
            const character = document.getElementById('character-input').value.trim();
            const action = document.getElementById('action-input').value.trim();
            const camera = document.getElementById('camera-input').value.trim();
            
            if (!scene || !character || !action || !camera) {
                alert('Please fill in all fields before generating the prompt.');
                return;
            }
            
            const prompt = `${scene}, featuring ${character} ${action}, ${camera}`;
            document.getElementById('generated-prompt').textContent = prompt;
            
            // Enable optimize button
            const optimizeBtn = document.getElementById('optimize-prompt-btn');
            if (optimizeBtn) {
                optimizeBtn.disabled = false;
            }
            
            // Clear previous optimization and feedback
            document.getElementById('optimization-suggestions').innerHTML = '';
            document.getElementById('ai-feedback').innerHTML = '';
        },
        
        optimizePrompt() {
            const currentPrompt = document.getElementById('generated-prompt').textContent;
            
            if (!currentPrompt) {
                alert('Please generate a prompt first.');
                return;
            }
            
            // Simulate AI optimization suggestions
            const optimizations = [
                "Add lighting details (e.g., 'golden hour lighting', 'dramatic shadows')",
                "Specify image quality (e.g., 'high resolution', '4K', 'professional photography')",
                "Include style references (e.g., 'cinematic style', 'documentary style')",
                "Add emotional tone (e.g., 'mysterious atmosphere', 'joyful mood')",
                "Specify technical details (e.g., 'shallow depth of field', 'wide angle lens')"
            ];
            
            const randomOptimizations = optimizations.sort(() => 0.5 - Math.random()).slice(0, 3);
            
            const optimizationHtml = `
                <h4 class="font-semibold text-gray-700 mb-2">AI Optimization Suggestions:</h4>
                <ul class="list-disc list-inside space-y-1">
                    ${randomOptimizations.map(opt => `<li class="text-sm text-gray-600">${opt}</li>`).join('')}
                </ul>
                <div class="mt-3">
                    <button onclick="scenePromptWriter.applyOptimizations()" class="bg-green-500 text-white px-3 py-1 rounded text-sm hover:bg-green-600">
                        Apply Suggestions
                    </button>
                </div>
            `;
            
            document.getElementById('optimization-suggestions').innerHTML = optimizationHtml;
        },
        
        applyOptimizations() {
            const currentPrompt = document.getElementById('generated-prompt').textContent;
            const optimizedPrompt = currentPrompt + ", high resolution, cinematic lighting, professional photography";
            document.getElementById('generated-prompt').textContent = optimizedPrompt;
            
            // Show AI feedback
            const feedbackHtml = `
                <h4 class="font-semibold text-gray-700 mb-2">AI Feedback:</h4>
                <div class="bg-green-50 border border-green-200 rounded p-3">
                    <p class="text-sm text-green-700">✅ Great improvement! Your prompt now includes:</p>
                    <ul class="list-disc list-inside mt-2 text-sm text-green-600">
                        <li>Technical quality specifications</li>
                        <li>Lighting details for better atmosphere</li>
                        <li>Professional photography style</li>
                    </ul>
                    <p class="text-sm text-green-700 mt-2">This optimized prompt should generate much better results!</p>
                </div>
            `;
            
            document.getElementById('ai-feedback').innerHTML = feedbackHtml;
        },
        
        copyPrompt() {
            const prompt = document.getElementById('generated-prompt').textContent;
            
            if (!prompt) {
                alert('No prompt to copy. Please generate a prompt first.');
                return;
            }
            
            navigator.clipboard.writeText(prompt).then(() => {
                const button = document.querySelector('button[onclick="scenePromptWriter.copyPrompt()"]');
                const originalText = button.textContent;
                button.textContent = 'Copied!';
                button.classList.add('bg-green-500');
                button.classList.remove('bg-blue-500');
                
                setTimeout(() => {
                    button.textContent = originalText;
                    button.classList.remove('bg-green-500');
                    button.classList.add('bg-blue-500');
                }, 2000);
            }).catch(() => {
                alert('Failed to copy to clipboard. Please copy manually.');
            });
        },
        
        reset() {
            document.getElementById('scene-input').value = '';
            document.getElementById('character-input').value = '';
            document.getElementById('action-input').value = '';
            document.getElementById('camera-input').value = '';
            document.getElementById('generated-prompt').textContent = '';
            document.getElementById('optimization-suggestions').innerHTML = '';
            document.getElementById('ai-feedback').innerHTML = '';
            
            // Disable optimize button
            const optimizeBtn = document.getElementById('optimize-prompt-btn');
            if (optimizeBtn) {
                optimizeBtn.disabled = true;
            }
        },
        
        setupButtons() {
            document.getElementById('generate-prompt-btn')?.addEventListener('click', () => {
                scenePromptWriter.generatePrompt();
            });
            
            document.getElementById('optimize-prompt-btn')?.addEventListener('click', () => {
                scenePromptWriter.optimizePrompt();
            });
            
            document.getElementById('copy-prompt-btn')?.addEventListener('click', () => {
                scenePromptWriter.copyPrompt();
            });
            
            document.getElementById('reset-scene-btn')?.addEventListener('click', () => {
                scenePromptWriter.reset();
            });
        }
    };

    // scenePromptWriter is initialized in initPromptBuilder()


</script>

<style>
/* Additional styles for interactive elements */
.draggable {
    transition: all 0.2s ease;
}

.draggable:hover {
    transform: scale(1.05);
}

.drop-zone {
    transition: background-color 0.2s ease;
}

.multimodal-btn {
    @apply px-3 py-2 border border-gray-300 rounded-lg text-sm transition-colors cursor-pointer;
}

.multimodal-btn:hover {
    @apply bg-gray-50;
}

.multimodal-btn.selected {
    @apply bg-blue-100 border-blue-500 text-blue-700;
}

.content-type-btn {
    @apply px-4 py-2 border border-gray-300 rounded-lg text-sm transition-colors cursor-pointer;
}

.content-type-btn:hover {
    @apply bg-gray-50;
}

.content-type-btn.active {
    @apply bg-blue-600 text-white border-blue-600;
}

.lang-btn {
    @apply px-3 py-1 rounded text-sm transition-colors cursor-pointer;
}

.lang-btn:hover {
    @apply bg-gray-100;
}

.lang-btn.active {
    @apply bg-blue-600 text-white;
}

/* Feature card hover effects */
.feature-card {
    transition: transform 0.3s ease, box-shadow 0.3s ease;
}

.feature-card:hover {
    transform: translateY(-5px);
}

.blue-glow:hover {
    box-shadow: 0 20px 40px rgba(59, 130, 246, 0.15);
}

.emerald-glow:hover {
    box-shadow: 0 20px 40px rgba(16, 185, 129, 0.15);
}

.indigo-glow:hover {
    box-shadow: 0 20px 40px rgba(99, 102, 241, 0.15);
}

/* Background patterns */
.clean-bg {
    background: linear-gradient(135deg, #f8fafc 0%, #f1f5f9 100%);
}

.slate-bg {
    background: linear-gradient(135deg, #f1f5f9 0%, #e2e8f0 100%);
}

/* Responsive adjustments */
@media (max-width: 768px) {
    .container {
        padding-left: 1rem;
        padding-right: 1rem;
    }
    
    .grid {
        gap: 1rem;
    }
    
    .text-3xl {
        font-size: 1.875rem;
    }
    
    .text-xl {
        font-size: 1.125rem;
    }
}
</style>
